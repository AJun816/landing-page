{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"redirect-notice fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 text-white px-6 py-3 rounded-full backdrop-blur-sm shadow-lg z-40\"\n};\nconst _hoisted_2 = {\n  class: \"text-center text-sm md:text-base\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"p\", _hoisted_2, [_createTextVNode(_toDisplayString($props.message) + \" \" + _toDisplayString($setup.secondsRemaining) + \" \" + _toDisplayString($props.secondsLabel) + \" \", 1 /* TEXT */), $props.allowSkip ? (_openBlock(), _createElementBlock(\"button\", {\n    key: 0,\n    onClick: $setup.handleSkip,\n    class: \"text-yellow-300 hover:text-yellow-200 font-medium ml-2 underline\"\n  }, \" Skip → \")) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$props","message","_toDisplayString","$setup","secondsRemaining","secondsLabel","allowSkip","onClick","handleSkip"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/redirect/RedirectDefault.vue"],"sourcesContent":["<template>\n  <div class=\"redirect-notice fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 text-white px-6 py-3 rounded-full backdrop-blur-sm shadow-lg z-40\">\n    <p class=\"text-center text-sm md:text-base\">\n      {{ message }} {{ secondsRemaining }} {{ secondsLabel }}\n      <button\n          v-if=\"allowSkip\"\n          @click=\"handleSkip\"\n      class=\"text-yellow-300 hover:text-yellow-200 font-medium ml-2 underline\"\n      >\n      Skip →\n      </button>\n    </p>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\n\n// 定义 props - 完整匹配App.vue中传递的参数\nconst props = defineProps({\n  targetUrl: {\n    type: String,\n    required: true\n  },\n  countdownSeconds: {\n    type: Number,\n    default: 3\n  },\n  message: {\n    type: String,\n    default: 'You will be redirected in:'\n  },\n  secondsLabel: {\n    type: String,\n    default: 'seconds'\n  },\n  allowSkip: {\n    type: Boolean,\n    default: true\n  }\n});\n\n// 定义事件发射器\nconst emit = defineEmits(['skip', 'auto-redirect']);\n\nconst secondsRemaining = ref(props.countdownSeconds);\nlet countdownTimer = null;\n\n// 启动倒计时\nconst startCountdown = () => {\n  secondsRemaining.value = props.countdownSeconds;\n\n  countdownTimer = setInterval(() => {\n    secondsRemaining.value--;\n\n    if (secondsRemaining.value <= 0) {\n      clearInterval(countdownTimer);\n      performRedirect(); // 直接执行重定向\n    }\n  }, 1000);\n};\n\n// 执行重定向\nconst performRedirect = () => {\n  emit('auto-redirect');\n  if (props.targetUrl) {\n    window.location.href = props.targetUrl;\n  }\n};\n\n// 处理跳过倒计时\nconst handleSkip = () => {\n  emit('skip');\n  skipCountdown();\n};\n\n// 跳过倒计时（供父组件调用）\nconst skipCountdown = () => {\n  if (countdownTimer) {\n    clearInterval(countdownTimer);\n  }\n  performRedirect();\n};\n\nonMounted(() => {\n  startCountdown();\n});\n\nonUnmounted(() => {\n  if (countdownTimer) clearInterval(countdownTimer);\n});\n\n// 暴露方法给父组件\ndefineExpose({\n  reset: startCountdown,\n  skipCountdown: skipCountdown // 添加skipCountdown方法\n});\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAA6J;;EACnKA,KAAK,EAAC;AAAkC;;uBAD7CC,mBAAA,CAWM,OAXNC,UAWM,GAVJC,mBAAA,CASI,KATJC,UASI,G,kCARCC,MAAA,CAAAC,OAAO,IAAG,GAAC,GAAAC,gBAAA,CAAGC,MAAA,CAAAC,gBAAgB,IAAG,GAAC,GAAAF,gBAAA,CAAGF,MAAA,CAAAK,YAAY,IAAG,GACvD,iBACUL,MAAA,CAAAM,SAAS,I,cADnBV,mBAAA,CAMS;;IAJJW,OAAK,EAAEJ,MAAA,CAAAK,UAAU;IACtBb,KAAK,EAAC;KACL,UAED,K","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}