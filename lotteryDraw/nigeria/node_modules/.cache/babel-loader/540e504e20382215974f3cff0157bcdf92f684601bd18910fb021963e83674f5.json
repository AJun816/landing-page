{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport { reactive, ref } from 'vue';\nexport default {\n  __name: 'SlotMachine',\n  props: {\n    config: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const reels = reactive([]); // 存放每列的选项\n    const currentIndexes = reactive([]); // 当前显示索引\n\n    // 初始化\n    props.config.reels.forEach(reel => {\n      reels.push([...reel]);\n      currentIndexes.push(0);\n    });\n\n    // 抽奖逻辑\n    const spin = () => {\n      props.config.reels.forEach((reel, i) => {\n        const randomIndex = Math.floor(Math.random() * reel.length);\n        currentIndexes[i] = randomIndex;\n      });\n    };\n    const __returned__ = {\n      props,\n      reels,\n      currentIndexes,\n      spin,\n      reactive,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","props","__props","reels","currentIndexes","config","forEach","reel","push","spin","i","randomIndex","Math","floor","random","length"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/lotterydraw/SlotMachine.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-center space-y-6\">\n    <!-- 标题 -->\n    <h2 class=\"text-2xl font-bold text-gradient bg-clip-text text-transparent\">\n      {{ config.title }}\n    </h2>\n\n    <!-- 老虎机显示区域 -->\n    <div class=\"flex space-x-4 bg-gray-900/80 p-4 rounded-xl shadow-xl\">\n      <div v-for=\"(reel, i) in reels\" :key=\"i\" class=\"w-20 h-20 flex items-center justify-center bg-black rounded-lg relative overflow-hidden\">\n        <div\n          class=\"absolute top-0 w-full transition-transform duration-700\"\n          :style=\"{ transform: `translateY(-${currentIndexes[i] * 100}%)` }\"\n        >\n          <div v-for=\"(item, j) in reel\" :key=\"j\" class=\"h-20 flex items-center justify-center text-2xl font-bold text-yellow-400\">\n            {{ item }}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- 抽奖按钮 -->\n    <button\n      @click=\"spin\"\n      class=\"mt-4 px-6 py-3 bg-gradient-to-r from-yellow-400 to-red-500 text-black font-bold rounded-xl shadow-lg hover:scale-105 transition-transform\"\n    >\n      {{ config.buttonText }}\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, ref } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    required: true\n  }\n})\n\nconst reels = reactive([]) // 存放每列的选项\nconst currentIndexes = reactive([]) // 当前显示索引\n\n// 初始化\nprops.config.reels.forEach((reel) => {\n  reels.push([...reel])\n  currentIndexes.push(0)\n})\n\n// 抽奖逻辑\nconst spin = () => {\n  props.config.reels.forEach((reel, i) => {\n    const randomIndex = Math.floor(Math.random() * reel.length)\n    currentIndexes[i] = randomIndex\n  })\n}\n</script>\n\n<style scoped>\n.text-gradient {\n  background: linear-gradient(90deg, #facc15, #f87171, #e879f9);\n}\n</style>\n"],"mappings":";;;AAgCA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAI;;;;;;;;;;;;;IAElC,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,KAAK,GAAGJ,QAAQ,CAAC,EAAE,CAAC,EAAC;IAC3B,MAAMK,cAAc,GAAGL,QAAQ,CAAC,EAAE,CAAC,EAAC;;IAEpC;IACAE,KAAK,CAACI,MAAM,CAACF,KAAK,CAACG,OAAO,CAAEC,IAAI,IAAK;MACnCJ,KAAK,CAACK,IAAI,CAAC,CAAC,GAAGD,IAAI,CAAC;MACpBH,cAAc,CAACI,IAAI,CAAC,CAAC;IACvB,CAAC;;IAED;IACA,MAAMC,IAAI,GAAGA,CAAA,KAAM;MACjBR,KAAK,CAACI,MAAM,CAACF,KAAK,CAACG,OAAO,CAAC,CAACC,IAAI,EAAEG,CAAC,KAAK;QACtC,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGP,IAAI,CAACQ,MAAM;QAC1DX,cAAc,CAACM,CAAC,CAAC,GAAGC,WAAU;MAChC,CAAC;IACH","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}