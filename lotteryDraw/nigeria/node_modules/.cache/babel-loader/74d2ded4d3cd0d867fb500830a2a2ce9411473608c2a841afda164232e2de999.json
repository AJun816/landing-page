{"ast":null,"code":"import { ref, onMounted, onUnmounted, computed } from 'vue';\nexport default {\n  __name: 'CountdownRing',\n  props: {\n    label: String,\n    totalDuration: Number,\n    labels: Object\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const seconds = ref(0);\n    let startTime, timer;\n    const circumference = 2 * Math.PI * 70;\n    const progress = computed(() => (60 - seconds.value) / 60 * circumference);\n    const update = () => {\n      const now = Date.now();\n      const elapsed = now - startTime;\n      const remaining = Math.max(props.totalDuration - elapsed, 0);\n      seconds.value = Math.floor(remaining / 1000 % 60);\n      if (remaining <= 0) clearInterval(timer);\n    };\n    onMounted(() => {\n      startTime = Date.now();\n      timer = setInterval(update, 200);\n    });\n    onUnmounted(() => clearInterval(timer));\n    const __returned__ = {\n      props,\n      seconds,\n      get startTime() {\n        return startTime;\n      },\n      set startTime(v) {\n        startTime = v;\n      },\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      circumference,\n      progress,\n      update,\n      ref,\n      onMounted,\n      onUnmounted,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","computed","props","__props","seconds","startTime","timer","circumference","Math","PI","progress","value","update","now","Date","elapsed","remaining","max","totalDuration","floor","clearInterval","setInterval"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/CountdownRing.vue"],"sourcesContent":["<!-- CountdownRing.vue -->\n<template>\n  <div class=\"flex flex-col items-center space-y-6 relative min-h-[400px] justify-center\">\n    <!-- 星光背景 -->\n    <div class=\"absolute inset-0 bg-black overflow-hidden\">\n      <div v-for=\"i in 100\" :key=\"i\" class=\"star\"></div>\n    </div>\n\n    <h2 class=\"text-2xl md:text-3xl font-bold bg-gradient-to-r from-yellow-400 via-yellow-300 to-yellow-500 bg-clip-text text-transparent drop-shadow-[0_0_10px_rgba(255,215,0,0.8)] z-10\">\n      {{ label }}\n    </h2>\n\n    <!-- 时钟容器 -->\n    <div class=\"relative w-64 h-64 md:w-80 md:h-80 z-10\">\n      <!-- 时钟外圈 -->\n      <svg class=\"w-full h-full transform -rotate-90\">\n        <!-- 背景圆环 -->\n        <circle cx=\"128\" cy=\"128\" r=\"110\" stroke=\"rgba(255,215,0,0.1)\" stroke-width=\"15\" fill=\"none\"/>\n        <!-- 刻度圆环 -->\n        <circle cx=\"128\" cy=\"128\" r=\"110\" stroke=\"url(#goldGradient)\" stroke-width=\"1\" fill=\"none\" stroke-dasharray=\"1 2.14\" />\n        <!-- 进度圆环 -->\n        <circle\n            cx=\"128\" cy=\"128\" r=\"110\"\n            stroke=\"url(#progressGradient)\" stroke-width=\"8\"\n            fill=\"none\" :stroke-dasharray=\"circumference\"\n            :stroke-dashoffset=\"progress\"\n            stroke-linecap=\"round\"\n            class=\"transition-all duration-200 ease-linear\"\n            filter=\"drop-shadow(0 0 8px rgba(255,215,0,0.8))\"\n        />\n        <!-- 金色渐变定义 -->\n        <defs>\n          <linearGradient id=\"goldGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n            <stop offset=\"0%\" stop-color=\"#f8d49f\" stop-opacity=\"0.8\"/>\n            <stop offset=\"50%\" stop-color=\"#ffd700\" stop-opacity=\"1\"/>\n            <stop offset=\"100%\" stop-color=\"#f8d49f\" stop-opacity=\"0.8\"/>\n          </linearGradient>\n          <linearGradient id=\"progressGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stop-color=\"#ffd700\"/>\n            <stop offset=\"50%\" stop-color=\"#ffb900\"/>\n            <stop offset=\"100%\" stop-color=\"#ffd700\"/>\n          </linearGradient>\n          <filter id=\"glow\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\n            <feGaussianBlur stdDeviation=\"8\" result=\"blur\"/>\n            <feComposite in=\"SourceGraphic\" in2=\"blur\" operator=\"over\"/>\n          </filter>\n        </defs>\n      </svg>\n\n      <!-- 罗马数字刻度 -->\n      <div class=\"absolute inset-0\">\n        <div class=\"roman numeral-i\">I</div>\n        <div class=\"roman numeral-ii\">II</div>\n        <div class=\"roman numeral-iii\">III</div>\n        <div class=\"roman numeral-iv\">IV</div>\n        <div class=\"roman numeral-v\">V</div>\n        <div class=\"roman numeral-vi\">VI</div>\n        <div class=\"roman numeral-vii\">VII</div>\n        <div class=\"roman numeral-viii\">VIII</div>\n        <div class=\"roman numeral-ix\">IX</div>\n        <div class=\"roman numeral-x\">X</div>\n        <div class=\"roman numeral-xi\">XI</div>\n        <div class=\"roman numeral-xii\">XII</div>\n      </div>\n\n      <!-- 中心倒计时 -->\n      <div class=\"absolute inset-0 flex items-center justify-center flex-col\">\n        <span class=\"text-6xl md:text-8xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-yellow-300 via-yellow-200 to-yellow-400 filter glow\" style=\"text-shadow: 0 0 10px rgba(255,215,0,0.8), 0 0 20px rgba(255,215,0,0.5)\">\n          {{ seconds.toString().padStart(2, '0') }}\n        </span>\n        <span class=\"text-xs md:text-sm opacity-80 mt-2 bg-gradient-to-r from-yellow-300 to-yellow-500 bg-clip-text text-transparent\">\n          {{ labels.second }}\n        </span>\n      </div>\n\n      <!-- 金色粒子 -->\n      <div v-for=\"n in 20\" :key=\"n\" class=\"gold-particle\"></div>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n/* 星光背景 */\n.star {\n  position: absolute;\n  width: 2px;\n  height: 2px;\n  background-color: #fff;\n  border-radius: 50%;\n  animation: twinkle 3s infinite ease-in-out;\n}\n\n@keyframes twinkle {\n  0%, 100% { opacity: 0.3; transform: scale(0.8); }\n  50% { opacity: 1; transform: scale(1.2); }\n}\n\n/* 罗马数字样式 */\n.roman {\n  position: absolute;\n  width: 40px;\n  height: 40px;\n  margin-left: -20px;\n  margin-top: -20px;\n  text-align: center;\n  line-height: 40px;\n  color: rgba(255,215,0,0.7);\n  font-size: 14px;\n  font-weight: bold;\n  text-shadow: 0 0 5px rgba(255,215,0,0.5);\n}\n\n/* 罗马数字位置 */\n.numeral-i { top: 15%; left: 50%; transform: translateX(-50%); }\n.numeral-ii { top: 25%; left: 75%; transform: translate(-50%, -50%); }\n.numeral-iii { top: 50%; left: 85%; transform: translateY(-50%); }\n.numeral-iv { top: 75%; left: 75%; transform: translate(-50%, -50%); }\n.numeral-v { top: 85%; left: 50%; transform: translateX(-50%); }\n.numeral-vi { top: 75%; left: 25%; transform: translate(-50%, -50%); }\n.numeral-vii { top: 50%; left: 15%; transform: translateY(-50%); }\n.numeral-viii { top: 25%; left: 25%; transform: translate(-50%, -50%); }\n.numeral-ix { top: 35%; left: 80%; transform: translate(-50%, -50%); }\n.numeral-x { top: 65%; left: 80%; transform: translate(-50%, -50%); }\n.numeral-xi { top: 65%; left: 20%; transform: translate(-50%, -50%); }\n.numeral-xii { top: 35%; left: 20%; transform: translate(-50%, -50%); }\n\n/* 金色粒子效果 */\n.gold-particle {\n  position: absolute;\n  width: 4px;\n  height: 4px;\n  background: radial-gradient(circle, rgba(255,215,0,1) 0%, rgba(255,183,3,0.6) 100%);\n  border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  animation: goldSparkle 3s infinite ease-in-out;\n}\n\n@keyframes goldSparkle {\n  0% { transform: translate(0, 0) scale(0.6); opacity: 0.7; }\n  50% { transform: translate(calc(random() * 100px - 50px), calc(random() * 100px - 50px)) scale(1.2); opacity: 1; }\n  100% { transform: translate(0, 0) scale(0.6); opacity: 0.7; }\n}\n\n/* 自定义发光滤镜 */\n.glow {\n  filter: drop-shadow(0 0 8px rgba(255,215,0,0.8)) drop-shadow(0 0 12px rgba(255,215,0,0.5));\n}\n</style>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\n\nconst props = defineProps({\n  label: String,\n  totalDuration: Number,\n  labels: Object\n});\n\nconst seconds = ref(0);\nlet startTime, timer;\n\nconst circumference = 2 * Math.PI * 70;\nconst progress = computed(() => ((60 - seconds.value) / 60) * circumference);\n\nconst update = () => {\n  const now = Date.now();\n  const elapsed = now - startTime;\n  const remaining = Math.max(props.totalDuration - elapsed, 0);\n\n  seconds.value = Math.floor((remaining / 1000) % 60);\n\n  if (remaining <= 0) clearInterval(timer);\n};\n\nonMounted(() => {\n  startTime = Date.now();\n  timer = setInterval(update, 200);\n});\nonUnmounted(() => clearInterval(timer));\n</script>\n\n<style scoped>\n.particle {\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  background: radial-gradient(circle, #fff, transparent);\n  border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  animation: sparkle 2s infinite ease-in-out;\n}\n.particle:nth-child(odd) { animation-delay: 0.5s; }\n.particle:nth-child(even) { animation-delay: 1s; }\n\n@keyframes sparkle {\n  0% { transform: translate(0, 0) scale(0.5); opacity: 1; }\n  50% { transform: translate(40px, -30px) scale(1.2); opacity: 0.6; }\n  100% { transform: translate(0, 0) scale(0.5); opacity: 0; }\n}\n</style>\n"],"mappings":"AAuJA,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAK;;;;;;;;;;;;IAE3D,MAAMC,KAAK,GAAGC,OAIZ;IAEF,MAAMC,OAAO,GAAGN,GAAG,CAAC,CAAC,CAAC;IACtB,IAAIO,SAAS,EAAEC,KAAK;IAEpB,MAAMC,aAAa,GAAG,CAAC,GAAGC,IAAI,CAACC,EAAE,GAAG,EAAE;IACtC,MAAMC,QAAQ,GAAGT,QAAQ,CAAC,MAAO,CAAC,EAAE,GAAGG,OAAO,CAACO,KAAK,IAAI,EAAE,GAAIJ,aAAa,CAAC;IAE5E,MAAMK,MAAM,GAAGA,CAAA,KAAM;MACnB,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;MACtB,MAAME,OAAO,GAAGF,GAAG,GAAGR,SAAS;MAC/B,MAAMW,SAAS,GAAGR,IAAI,CAACS,GAAG,CAACf,KAAK,CAACgB,aAAa,GAAGH,OAAO,EAAE,CAAC,CAAC;MAE5DX,OAAO,CAACO,KAAK,GAAGH,IAAI,CAACW,KAAK,CAAEH,SAAS,GAAG,IAAI,GAAI,EAAE,CAAC;MAEnD,IAAIA,SAAS,IAAI,CAAC,EAAEI,aAAa,CAACd,KAAK,CAAC;IAC1C,CAAC;IAEDP,SAAS,CAAC,MAAM;MACdM,SAAS,GAAGS,IAAI,CAACD,GAAG,CAAC,CAAC;MACtBP,KAAK,GAAGe,WAAW,CAACT,MAAM,EAAE,GAAG,CAAC;IAClC,CAAC,CAAC;IACFZ,WAAW,CAAC,MAAMoB,aAAa,CAACd,KAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}