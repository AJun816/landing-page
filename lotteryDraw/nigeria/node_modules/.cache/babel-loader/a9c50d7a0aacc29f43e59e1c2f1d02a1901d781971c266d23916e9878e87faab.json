{"ast":null,"code":"import { ref, watch } from 'vue';\nexport default {\n  __name: 'GoldenWheel',\n  props: {\n    value: {\n      type: Number,\n      required: true\n    } // 接收当前数字\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const frontNum = ref(props.value); // 翻页前的数字\n    const backNum = ref(props.value); // 翻页后的数字\n    const isFlipping = ref(false); // 控制翻转动画的状态\n\n    // 监听数值变化，触发翻页动画\n    watch(() => props.value, newVal => {\n      if (newVal !== frontNum.value) {\n        frontNum.value = backNum.value;\n        backNum.value = newVal;\n        isFlipping.value = true;\n        // 动画结束后重置状态（与 CSS 动画时长同步）\n        setTimeout(() => {\n          isFlipping.value = false;\n        }, 500);\n      }\n    });\n    const __returned__ = {\n      props,\n      frontNum,\n      backNum,\n      isFlipping,\n      ref,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","watch","props","__props","frontNum","value","backNum","isFlipping","newVal","setTimeout"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/LuckyWheel/GoldenWheel.vue"],"sourcesContent":["<template>\n  <div class=\"flip-unit\" :class=\"{ 'is-flipping': isFlipping }\">\n    <!-- 翻页前的数字（正面） -->\n    <div class=\"flip-front\" :data-num=\"frontNum\">{{ frontNum }}</div>\n    <!-- 翻页后的数字（背面） -->\n    <div class=\"flip-back\" :data-num=\"backNum\">{{ backNum }}</div>\n    <!-- 翻页过渡覆盖层 -->\n    <div class=\"flip-overlay\" :data-num=\"frontNum\">{{ frontNum }}</div>\n    <div class=\"flip-underlay\" :data-num=\"backNum\">{{ backNum }}</div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue';\n\nconst props = defineProps({\n  value: { type: Number, required: true } // 接收当前数字\n});\n\nconst frontNum = ref(props.value); // 翻页前的数字\nconst backNum = ref(props.value);  // 翻页后的数字\nconst isFlipping = ref(false);     // 控制翻转动画的状态\n\n// 监听数值变化，触发翻页动画\nwatch(() => props.value, (newVal) => {\n  if (newVal !== frontNum.value) {\n    frontNum.value = backNum.value;\n    backNum.value = newVal;\n    isFlipping.value = true;\n    // 动画结束后重置状态（与 CSS 动画时长同步）\n    setTimeout(() => {\n      isFlipping.value = false;\n    }, 500);\n  }\n});\n</script>\n\n<style scoped>\n.flip-unit {\n  position: relative;\n  width: 60px;\n  height: 80px;\n  perspective: 200px; /* 3D 透视效果 */\n  margin: 0 4px;\n}\n\n/* 数字容器：分上下两半，翻页时分别旋转 */\n.flip-front,\n.flip-back,\n.flip-overlay,\n.flip-underlay {\n  position: absolute;\n  width: 100%;\n  height: 50%;\n  line-height: 40px;\n  text-align: center;\n  font-size: 24px;\n  font-weight: bold;\n  color: #fff;\n  background: #333;\n  overflow: hidden;\n}\n\n.flip-front, .flip-overlay {\n  top: 0;\n  border-top-left-radius: 4px;\n  border-top-right-radius: 4px;\n}\n\n.flip-back, .flip-underlay {\n  bottom: 0;\n  border-bottom-left-radius: 4px;\n  border-bottom-right-radius: 4px;\n  line-height: 0; /* 底部数字垂直对齐 */\n}\n\n.flip-back {\n  transform: rotateX(180deg);\n  transform-origin: bottom;\n}\n\n/* 覆盖层：翻页时的视觉过渡 */\n.flip-overlay {\n  z-index: 1;\n  backface-visibility: hidden; /* 隐藏背面，避免穿帮 */\n}\n\n.flip-underlay {\n  z-index: -1;\n}\n\n/* 翻转动画：覆盖层和底层分别旋转 */\n.flip-overlay, .flip-underlay {\n  transition: transform 0.5s ease-in-out;\n}\n\n.flip-overlay {\n  transform-origin: bottom;\n}\n\n.flip-underlay {\n  transform-origin: top;\n}\n\n/* 触发翻转动画的类名 */\n.is-flipping .flip-overlay {\n  transform: rotateX(-180deg);\n}\n\n.is-flipping .flip-underlay {\n  transform: rotateX(0deg);\n  z-index: 1;\n}\n</style>\n"],"mappings":"AAaA,SAASA,GAAG,EAAEC,KAAK,QAAQ,KAAK;;;;;;;;;;;;;IAEhC,MAAMC,KAAK,GAAGC,OAEZ;IAEF,MAAMC,QAAQ,GAAGJ,GAAG,CAACE,KAAK,CAACG,KAAK,CAAC,CAAC,CAAC;IACnC,MAAMC,OAAO,GAAGN,GAAG,CAACE,KAAK,CAACG,KAAK,CAAC,CAAC,CAAE;IACnC,MAAME,UAAU,GAAGP,GAAG,CAAC,KAAK,CAAC,CAAC,CAAK;;IAEnC;IACAC,KAAK,CAAC,MAAMC,KAAK,CAACG,KAAK,EAAGG,MAAM,IAAK;MACnC,IAAIA,MAAM,KAAKJ,QAAQ,CAACC,KAAK,EAAE;QAC7BD,QAAQ,CAACC,KAAK,GAAGC,OAAO,CAACD,KAAK;QAC9BC,OAAO,CAACD,KAAK,GAAGG,MAAM;QACtBD,UAAU,CAACF,KAAK,GAAG,IAAI;QACvB;QACAI,UAAU,CAAC,MAAM;UACfF,UAAU,CAACF,KAAK,GAAG,KAAK;QAC1B,CAAC,EAAE,GAAG,CAAC;MACT;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}