{"ast":null,"code":"import { ref, onMounted, onUnmounted } from 'vue';\nexport default {\n  __name: 'RedirectDefault',\n  props: {\n    redirectSeconds: {\n      type: Number,\n      default: 3\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    const props = __props;\n    const secondsRemaining = ref(props.redirectSeconds);\n    let countdownTimer = null;\n\n    // 启动倒计时\n    const startCountdown = () => {\n      secondsRemaining.value = props.redirectSeconds;\n      countdownTimer = setInterval(() => {\n        secondsRemaining.value--;\n        if (secondsRemaining.value <= 0) {\n          clearInterval(countdownTimer);\n          $emit('auto-redirect');\n        }\n      }, 1000);\n    };\n\n    // 组件挂载时启动倒计时\n    onMounted(() => {\n      startCountdown();\n    });\n\n    // 清理定时器\n    onUnmounted(() => {\n      if (countdownTimer) clearInterval(countdownTimer);\n    });\n\n    // 暴露重置方法（可选）\n    __expose({\n      reset: startCountdown\n    });\n    const __returned__ = {\n      props,\n      secondsRemaining,\n      get countdownTimer() {\n        return countdownTimer;\n      },\n      set countdownTimer(v) {\n        countdownTimer = v;\n      },\n      startCountdown,\n      ref,\n      onMounted,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","props","__props","secondsRemaining","redirectSeconds","countdownTimer","startCountdown","value","setInterval","clearInterval","$emit","__expose","reset"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/redirect/RedirectDefault.vue"],"sourcesContent":["<template>\n  <div class=\"redirect-notice fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-70 text-white px-6 py-3 rounded-full backdrop-blur-sm shadow-lg z-40\">\n    <p class=\"text-center text-sm md:text-base\">\n      You will be redirected in {{ secondsRemaining }} seconds\n      <button\n          @click=\"$emit('skip')\"\n          class=\"text-yellow-300 hover:text-yellow-200 font-medium ml-2 underline\"\n      >\n        Skip →\n      </button>\n    </p>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\n\nconst props = defineProps({\n  redirectSeconds: {\n    type: Number,\n    default: 3\n  }\n});\n\nconst secondsRemaining = ref(props.redirectSeconds);\nlet countdownTimer = null;\n\n// 启动倒计时\nconst startCountdown = () => {\n  secondsRemaining.value = props.redirectSeconds;\n\n  countdownTimer = setInterval(() => {\n    secondsRemaining.value--;\n\n    if (secondsRemaining.value <= 0) {\n      clearInterval(countdownTimer);\n      $emit('auto-redirect');\n    }\n  }, 1000);\n};\n\n// 组件挂载时启动倒计时\nonMounted(() => {\n  startCountdown();\n});\n\n// 清理定时器\nonUnmounted(() => {\n  if (countdownTimer) clearInterval(countdownTimer);\n});\n\n// 暴露重置方法（可选）\ndefineExpose({\n  reset: startCountdown\n});\n</script>\n\n"],"mappings":"AAeA,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,QAAQ,KAAK;;;;;;;;;;;;IAEjD,MAAMC,KAAK,GAAGC,OAKZ;IAEF,MAAMC,gBAAgB,GAAGL,GAAG,CAACG,KAAK,CAACG,eAAe,CAAC;IACnD,IAAIC,cAAc,GAAG,IAAI;;IAEzB;IACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3BH,gBAAgB,CAACI,KAAK,GAAGN,KAAK,CAACG,eAAe;MAE9CC,cAAc,GAAGG,WAAW,CAAC,MAAM;QACjCL,gBAAgB,CAACI,KAAK,EAAE;QAExB,IAAIJ,gBAAgB,CAACI,KAAK,IAAI,CAAC,EAAE;UAC/BE,aAAa,CAACJ,cAAc,CAAC;UAC7BK,KAAK,CAAC,eAAe,CAAC;QACxB;MACF,CAAC,EAAE,IAAI,CAAC;IACV,CAAC;;IAED;IACAX,SAAS,CAAC,MAAM;MACdO,cAAc,CAAC,CAAC;IAClB,CAAC,CAAC;;IAEF;IACAN,WAAW,CAAC,MAAM;MAChB,IAAIK,cAAc,EAAEI,aAAa,CAACJ,cAAc,CAAC;IACnD,CAAC,CAAC;;IAEF;IACAM,QAAY,CAAC;MACXC,KAAK,EAAEN;IACT,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}