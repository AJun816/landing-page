{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"led-countdown-container flex flex-col items-center justify-center\"\n};\nconst _hoisted_2 = {\n  class: \"led-title text-xl font-bold mb-4 animate-pulse bg-gradient-to-r from-yellow-400 to-amber-600 bg-clip-text text-transparent\"\n};\nconst _hoisted_3 = {\n  class: \"led-display flex items-center justify-center bg-black p-4\"\n};\nconst _hoisted_4 = {\n  class: \"digit-group flex items-center\"\n};\nconst _hoisted_5 = {\n  class: \"pixel-grid\"\n};\nconst _hoisted_6 = {\n  class: \"pixel-grid\"\n};\nconst _hoisted_7 = {\n  class: \"colon-separator flex flex-col items-center justify-center mx-1\"\n};\nconst _hoisted_8 = {\n  class: \"digit-group flex items-center\"\n};\nconst _hoisted_9 = {\n  class: \"pixel-grid\"\n};\nconst _hoisted_10 = {\n  class: \"pixel-grid\"\n};\nconst _hoisted_11 = {\n  class: \"digit-group flex items-center ml-2\"\n};\nconst _hoisted_12 = {\n  class: \"led-digit small-digit\"\n};\nconst _hoisted_13 = {\n  class: \"pixel-grid\"\n};\nconst _hoisted_14 = {\n  class: \"led-digit small-digit\"\n};\nconst _hoisted_15 = {\n  class: \"pixel-grid\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"h2\", _hoisted_2, _toDisplayString($props.label), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 分钟显示 \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"led-digit\", {\n      'small-digit': false\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getDigitPattern(Math.floor($setup.minutes / 10)), (on, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: _normalizeClass([\"pixel\", {\n        'active': on && $setup.minutes > 0\n      }])\n    }, null, 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"led-digit\", {\n      'small-digit': false\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_6, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getDigitPattern($setup.minutes % 10), (on, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: _normalizeClass([\"pixel\", {\n        'active': on && $setup.minutes > 0\n      }])\n    }, null, 2 /* CLASS */);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" 冒号 \"), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"colon-pixel\", {\n      'active': $setup.showColon\n    }])\n  }, null, 2 /* CLASS */), _cache[0] || (_cache[0] = _createElementVNode(\"div\", {\n    class: \"pixel-gap\"\n  }, null, -1 /* CACHED */)), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"colon-pixel\", {\n      'active': $setup.showColon\n    }])\n  }, null, 2 /* CLASS */)]), _createCommentVNode(\" 秒显示 \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", {\n    class: _normalizeClass([\"led-digit\", {\n      'small-digit': false\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_9, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getDigitPattern(Math.floor($setup.seconds / 10)), (on, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"pixel active\"\n    });\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", {\n    class: _normalizeClass([\"led-digit\", {\n      'small-digit': false\n    }])\n  }, [_createElementVNode(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getDigitPattern($setup.seconds % 10), (on, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"pixel active\"\n    });\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" 毫秒显示 \"), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getDigitPattern(Math.floor($setup.milliseconds / 10)), (on, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"pixel active small-pixel\"\n    });\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.getDigitPattern($setup.milliseconds % 10), (on, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: index,\n      class: \"pixel active small-pixel\"\n    });\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" 扫描线效果 \"), _cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n    class: \"led-scanline\"\n  }, null, -1 /* CACHED */))])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_toDisplayString","$props","label","_hoisted_3","_createCommentVNode","_hoisted_4","_normalizeClass","_hoisted_5","_Fragment","_renderList","$setup","getDigitPattern","Math","floor","minutes","on","index","key","_hoisted_6","_hoisted_7","showColon","_hoisted_8","_hoisted_9","seconds","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","milliseconds","_hoisted_14","_hoisted_15"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/LEDCountdown.vue"],"sourcesContent":["<!-- LEDCountdown.vue -->\n<template>\n  <div class=\"led-countdown-container flex flex-col items-center justify-center\">\n    <h2 class=\"led-title text-xl font-bold mb-4 animate-pulse bg-gradient-to-r from-yellow-400 to-amber-600 bg-clip-text text-transparent\">\n      {{ label }}\n    </h2>\n    \n    <div class=\"led-display flex items-center justify-center bg-black p-4\">\n      <!-- 分钟显示 -->\n      <div class=\"digit-group flex items-center\">\n        <div class=\"led-digit\" :class=\"{ 'small-digit': false }\">\n          <div class=\"pixel-grid\">\n            <div v-for=\"(on, index) in getDigitPattern(Math.floor(minutes / 10))\" :key=\"index\"\n                 class=\"pixel\" :class=\"{ 'active': on && minutes > 0 }\"></div>\n          </div>\n        </div>\n        <div class=\"led-digit\" :class=\"{ 'small-digit': false }\">\n          <div class=\"pixel-grid\">\n            <div v-for=\"(on, index) in getDigitPattern(minutes % 10)\" :key=\"index\"\n                 class=\"pixel\" :class=\"{ 'active': on && minutes > 0 }\"></div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 冒号 -->\n      <div class=\"colon-separator flex flex-col items-center justify-center mx-1\">\n        <div class=\"colon-pixel\" :class=\"{ 'active': showColon }\"></div>\n        <div class=\"pixel-gap\"></div>\n        <div class=\"colon-pixel\" :class=\"{ 'active': showColon }\"></div>\n      </div>\n      \n      <!-- 秒显示 -->\n      <div class=\"digit-group flex items-center\">\n        <div class=\"led-digit\" :class=\"{ 'small-digit': false }\">\n          <div class=\"pixel-grid\">\n            <div v-for=\"(on, index) in getDigitPattern(Math.floor(seconds / 10))\" :key=\"index\"\n                 class=\"pixel active\"></div>\n          </div>\n        </div>\n        <div class=\"led-digit\" :class=\"{ 'small-digit': false }\">\n          <div class=\"pixel-grid\">\n            <div v-for=\"(on, index) in getDigitPattern(seconds % 10)\" :key=\"index\"\n                 class=\"pixel active\"></div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 毫秒显示 -->\n      <div class=\"digit-group flex items-center ml-2\">\n        <div class=\"led-digit small-digit\">\n          <div class=\"pixel-grid\">\n            <div v-for=\"(on, index) in getDigitPattern(Math.floor(milliseconds / 10))\" :key=\"index\"\n                 class=\"pixel active small-pixel\"></div>\n          </div>\n        </div>\n        <div class=\"led-digit small-digit\">\n          <div class=\"pixel-grid\">\n            <div v-for=\"(on, index) in getDigitPattern(milliseconds % 10)\" :key=\"index\"\n                 class=\"pixel active small-pixel\"></div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- 扫描线效果 -->\n      <div class=\"led-scanline\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\n\nconst props = defineProps({\n  label: {\n    type: String,\n    default: '活动倒计时'\n  },\n  totalDuration: {\n    type: Number,\n    default: 60000\n  },\n  labels: {\n    type: Object,\n    default: () => ({\n      minute: '分',\n      second: '秒',\n      millisecond: '毫秒'\n    })\n  }\n});\n\n// 倒计时状态\nconst timeLeft = ref(props.totalDuration);\nconst showColon = ref(true);\nlet startTime, timer;\n\n// 计算属性 - 解析时间\nconst minutes = computed(() => Math.floor((timeLeft.value / 1000) / 60));\nconst seconds = computed(() => Math.floor((timeLeft.value / 1000) % 60));\nconst milliseconds = computed(() => Math.floor((timeLeft.value % 1000) / 10));\n\n// 数字0-9的点阵定义\nconst digitPatterns = {\n  0: [1,1,1,1,1,1,0,1,1,1,1,1,1],\n  1: [0,1,1,0,0,0,0,1,1,0,0,0,0],\n  2: [1,1,0,1,1,0,1,1,0,1,1,1,1],\n  3: [1,1,1,1,0,0,1,1,1,1,0,0,1],\n  4: [1,0,1,0,0,1,1,1,1,0,0,1,0],\n  5: [1,0,1,1,0,1,1,0,1,1,0,1,1],\n  6: [1,1,1,1,0,1,1,0,1,1,1,1,1],\n  7: [1,0,0,0,0,0,1,1,1,0,0,0,0],\n  8: [1,1,1,1,0,1,1,1,1,1,1,1,1],\n  9: [1,0,1,1,0,1,1,1,1,1,0,1,1]\n};\n\n// 获取数字的点阵模式\nconst getDigitPattern = (number) => {\n  return digitPatterns[number] || digitPatterns[0];\n};\n\n// 更新倒计时\nconst updateCountdown = () => {\n  const now = Date.now();\n  const elapsed = now - startTime;\n  timeLeft.value = Math.max(props.totalDuration - elapsed, 0);\n  \n  // 冒号闪烁效果\n  showColon.value = Math.floor((Date.now() / 500)) % 2 === 0;\n  \n  // 倒计时结束\n  if (timeLeft.value <= 0) {\n    clearInterval(timer);\n  }\n};\n\n// 生命周期钩子\nonMounted(() => {\n  startTime = Date.now();\n  timer = setInterval(updateCountdown, 10); // 每10ms更新一次，以显示毫秒\n});\n\nonUnmounted(() => {\n  if (timer) {\n    clearInterval(timer);\n  }\n});\n</script>\n\n<style scoped>\n/* LED容器样式 */\n.led-countdown-container {\n  font-family: 'Courier New', monospace;\n  position: relative;\n}\n\n/* LED显示面板 */\n.led-display {\n  background-color: #000000;\n  position: relative;\n  box-shadow: 0 0 30px rgba(255, 204, 0, 0.3);\n}\n\n/* LED数字 */\n.led-digit {\n  width: 35px;\n  height: 55px;\n  background-color: #000000;\n  margin: 0 2px;\n  position: relative;\n}\n\n/* 小尺寸数字 */\n.small-digit {\n  width: 25px;\n  height: 40px;\n}\n\n/* 像素网格 */\n.pixel-grid {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  grid-template-rows: repeat(5, 1fr);\n  width: 100%;\n  height: 100%;\n  gap: 2px;\n  padding: 4px;\n}\n\n/* 像素点 */\n.pixel {\n  background-color: #111111;\n  border-radius: 2px;\n  transition: all 0.1s ease;\n}\n\n/* 激活的像素点 */\n.pixel.active {\n  background-color: #ffcc00;\n  box-shadow: 0 0 4px rgba(255, 204, 0, 0.8);\n}\n\n/* 小尺寸像素点 */\n.small-pixel {\n  border-radius: 1px;\n}\n\n/* 冒号分隔符 */\n.colon-separator {\n  height: 55px;\n  margin: 0 4px;\n}\n\n/* 冒号像素点 */\n.colon-pixel {\n  width: 8px;\n  height: 8px;\n  background-color: #111111;\n  border-radius: 50%;\n  transition: all 0.1s ease;\n}\n\n/* 激活的冒号像素点 */\n.colon-pixel.active {\n  background-color: #ffcc00;\n  box-shadow: 0 0 4px rgba(255, 204, 0, 0.8);\n}\n\n/* 冒号中间间隙 */\n.pixel-gap {\n  height: 8px;\n}\n\n/* 扫描线效果 */\n.led-scanline {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background: linear-gradient(\n    90deg,\n    rgba(255, 204, 0, 0) 0%,\n    rgba(255, 204, 0, 0.5) 50%,\n    rgba(255, 204, 0, 0) 100%\n  );\n  animation: scanline 3s linear infinite;\n  pointer-events: none;\n}\n\n/* 扫描线动画 */\n@keyframes scanline {\n  0% { top: 0; }\n  100% { top: 100%; }\n}\n\n/* 脉冲动画 */\n.led-title {\n  animation: pulse 2s infinite ease-in-out;\n}\n\n@keyframes pulse {\n  0% { opacity: 0.8; transform: scale(0.98); }\n  50% { opacity: 1; transform: scale(1.02); }\n  100% { opacity: 0.8; transform: scale(0.98); }\n}\n\n/* 响应式设计 */\n@media (max-width: 640px) {\n  .led-digit {\n    width: 28px;\n    height: 45px;\n  }\n  \n  .small-digit {\n    width: 20px;\n    height: 32px;\n  }\n  \n  .pixel-grid {\n    gap: 1px;\n    padding: 3px;\n  }\n  \n  .colon-pixel {\n    width: 6px;\n    height: 6px;\n  }\n  \n  .led-title {\n    font-size: 1rem;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}