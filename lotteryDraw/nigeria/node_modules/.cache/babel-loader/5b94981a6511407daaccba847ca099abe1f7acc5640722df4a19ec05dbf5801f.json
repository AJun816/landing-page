{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"circular-countdown flex flex-col items-center justify-center p-4\"\n};\nconst _hoisted_2 = {\n  class: \"title text-center mb-6 text-white text-2xl md:text-3xl font-bold bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600\"\n};\nconst _hoisted_3 = {\n  class: \"relative w-64 h-64 md:w-80 md:h-80\"\n};\nconst _hoisted_4 = {\n  class: \"w-full h-full\",\n  viewBox: \"0 0 100 100\",\n  preserveAspectRatio: \"xMinYMin meet\"\n};\nconst _hoisted_5 = [\"stroke-dashoffset\"];\nconst _hoisted_6 = {\n  class: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center\"\n};\nconst _hoisted_7 = {\n  class: \"text-white text-4xl md:text-5xl font-bold\"\n};\nconst _hoisted_8 = {\n  class: \"text-lg md:text-xl\"\n};\nconst _hoisted_9 = {\n  class: \"text-white text-4xl md:text-5xl font-bold mt-1\"\n};\nconst _hoisted_10 = {\n  class: \"text-lg md:text-xl\"\n};\nconst _hoisted_11 = {\n  class: \"text-white text-2xl md:text-3xl font-medium mt-1\"\n};\nconst _hoisted_12 = {\n  class: \"text-sm md:text-base\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 标题 \"), _createElementVNode(\"div\", _hoisted_2, _toDisplayString($props.countdown.label), 1 /* TEXT */), _createCommentVNode(\" 环形倒计时 \"), _createElementVNode(\"div\", _hoisted_3, [(_openBlock(), _createElementBlock(\"svg\", _hoisted_4, [_createCommentVNode(\" 背景圆 \"), _cache[0] || (_cache[0] = _createElementVNode(\"circle\", {\n    class: \"text-gray-700\",\n    cx: \"50\",\n    cy: \"50\",\n    r: \"45\",\n    \"stroke-width\": \"10\"\n  }, null, -1 /* CACHED */)), _createCommentVNode(\" 动态进度圆 \"), _createElementVNode(\"circle\", {\n    \"stroke-dasharray\": $setup.circumference,\n    \"stroke-dashoffset\": $setup.offset,\n    class: \"transition-all duration-300 ease-linear stroke-blue-500\",\n    cx: \"50\",\n    cy: \"50\",\n    r: \"45\",\n    \"stroke-width\": \"10\"\n  }, null, 8 /* PROPS */, _hoisted_5)])), _createCommentVNode(\" 倒计时数字 \"), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createTextVNode(_toDisplayString($setup.remaining.minutes) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_8, _toDisplayString($props.countdown.labels.minute), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_9, [_createTextVNode(_toDisplayString($setup.remaining.seconds) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($props.countdown.labels.second), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_createTextVNode(_toDisplayString($setup.remaining.milliseconds) + \" \", 1 /* TEXT */), _createElementVNode(\"span\", _hoisted_12, _toDisplayString($props.countdown.labels.millisecond), 1 /* TEXT */)])])])]);\n}","map":{"version":3,"names":["class","viewBox","preserveAspectRatio","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_hoisted_2","_toDisplayString","$props","countdown","label","_hoisted_3","_hoisted_4","cx","cy","r","$setup","circumference","offset","_hoisted_6","_hoisted_7","remaining","minutes","_hoisted_8","labels","minute","_hoisted_9","seconds","_hoisted_10","second","_hoisted_11","milliseconds","_hoisted_12","millisecond"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/CircularCountdown.vue"],"sourcesContent":["<template>\n  <div class=\"circular-countdown flex flex-col items-center justify-center p-4\">\n    <!-- 标题 -->\n    <div class=\"title text-center mb-6 text-white text-2xl md:text-3xl font-bold bg-clip-text bg-gradient-to-r from-blue-400 to-purple-600\">\n      {{ countdown.label }}\n    </div>\n\n    <!-- 环形倒计时 -->\n    <div class=\"relative w-64 h-64 md:w-80 md:h-80\">\n      <svg class=\"w-full h-full\" viewBox=\"0 0 100 100\" preserveAspectRatio=\"xMinYMin meet\">\n        <!-- 背景圆 -->\n        <circle\n          class=\"text-gray-700\"\n          cx=\"50\"\n          cy=\"50\"\n          r=\"45\"\n          stroke-width=\"10\"\n        />\n        <!-- 动态进度圆 -->\n        <circle\n          :stroke-dasharray=\"circumference\"\n          :stroke-dashoffset=\"offset\"\n          class=\"transition-all duration-300 ease-linear stroke-blue-500\"\n          cx=\"50\"\n          cy=\"50\"\n          r=\"45\"\n          stroke-width=\"10\"\n        />\n      </svg>\n\n      <!-- 倒计时数字 -->\n      <div class=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center\">\n        <div class=\"text-white text-4xl md:text-5xl font-bold\">\n          {{ remaining.minutes }}\n          <span class=\"text-lg md:text-xl\">{{ countdown.labels.minute }}</span>\n        </div>\n        <div class=\"text-white text-4xl md:text-5xl font-bold mt-1\">\n          {{ remaining.seconds }}\n          <span class=\"text-lg md:text-xl\">{{ countdown.labels.second }}</span>\n        </div>\n        <div class=\"text-white text-2xl md:text-3xl font-medium mt-1\">\n          {{ remaining.milliseconds }}\n          <span class=\"text-sm md:text-base\">{{ countdown.labels.millisecond }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue'\n\nconst props = defineProps({\n  countdown: {\n    type: Object,\n    required: true\n  }\n})\n\nconst emit = defineEmits(['end'])\n\nconst remaining = ref({ minutes: 0, seconds: 0, milliseconds: 0 })\nlet timer = null\n\n// SVG 圆周长度\nconst radius = 45\nconst circumference = 2 * Math.PI * radius\nconst offset = ref(circumference)\n\n// 计算剩余时间\nconst updateRemaining = () => {\n  const now = Date.now()\n  const elapsed = now - startTime.value\n  const remainingTime = Math.max(props.countdown.totalDuration - elapsed, 0)\n\n  if (remainingTime <= 0) {\n    stopCountdown()\n    emit('end')\n    return\n  }\n\n  const mins = Math.floor(remainingTime / 60000)\n  const secs = Math.floor((remainingTime % 60000) / 1000)\n  const msecs = remainingTime % 1000\n\n  remaining.value = {\n    minutes: mins.toString().padStart(2, '0'),\n    seconds: secs.toString().padStart(2, '0'),\n    milliseconds: msecs.toString().padStart(3, '0')\n  }\n\n  // 更新进度条\n  offset.value = circumference - (remainingTime / props.countdown.totalDuration) * circumference\n}\n\n// 启动倒计时\nconst startTime = ref(Date.now())\nconst startCountdown = () => {\n  timer = setInterval(updateRemaining, 10) // 毫秒级更新\n}\n\n// 停止倒计时\nconst stopCountdown = () => {\n  if (timer) clearInterval(timer)\n  timer = null\n}\n\n// 生命周期钩子\nonMounted(() => {\n  startCountdown()\n})\n\nonUnmounted(() => {\n  stopCountdown()\n})\n</script>\n\n<style scoped>\n/* SVG 动画优化 */\ncircle {\n  transition: stroke-dashoffset 0.3s linear;\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAkE;;EAEtEA,KAAK,EAAC;AAA4H;;EAKlIA,KAAK,EAAC;AAAoC;;EACxCA,KAAK,EAAC,eAAe;EAACC,OAAO,EAAC,aAAa;EAACC,mBAAmB,EAAC;;;;EAsBhEF,KAAK,EAAC;AAAmF;;EACvFA,KAAK,EAAC;AAA2C;;EAE9CA,KAAK,EAAC;AAAoB;;EAE7BA,KAAK,EAAC;AAAgD;;EAEnDA,KAAK,EAAC;AAAoB;;EAE7BA,KAAK,EAAC;AAAkD;;EAErDA,KAAK,EAAC;AAAsB;;uBAzC1CG,mBAAA,CA6CM,OA7CNC,UA6CM,GA5CJC,mBAAA,QAAW,EACXC,mBAAA,CAEM,OAFNC,UAEM,EAAAC,gBAAA,CADDC,MAAA,CAAAC,SAAS,CAACC,KAAK,kBAGpBN,mBAAA,WAAc,EACdC,mBAAA,CAqCM,OArCNM,UAqCM,I,cApCJT,mBAAA,CAmBM,OAnBNU,UAmBM,GAlBJR,mBAAA,SAAY,E,0BACZC,mBAAA,CAME;IALAN,KAAK,EAAC,eAAe;IACrBc,EAAE,EAAC,IAAI;IACPC,EAAE,EAAC,IAAI;IACPC,CAAC,EAAC,IAAI;IACN,cAAY,EAAC;8BAEfX,mBAAA,WAAc,EACdC,mBAAA,CAQE;IAPC,kBAAgB,EAAEW,MAAA,CAAAC,aAAa;IAC/B,mBAAiB,EAAED,MAAA,CAAAE,MAAM;IAC1BnB,KAAK,EAAC,yDAAyD;IAC/Dc,EAAE,EAAC,IAAI;IACPC,EAAE,EAAC,IAAI;IACPC,CAAC,EAAC,IAAI;IACN,cAAY,EAAC;0CAIjBX,mBAAA,WAAc,EACdC,mBAAA,CAaM,OAbNc,UAaM,GAZJd,mBAAA,CAGM,OAHNe,UAGM,G,kCAFDJ,MAAA,CAAAK,SAAS,CAACC,OAAO,IAAG,GACvB,iBAAAjB,mBAAA,CAAqE,QAArEkB,UAAqE,EAAAhB,gBAAA,CAAjCC,MAAA,CAAAC,SAAS,CAACe,MAAM,CAACC,MAAM,iB,GAE7DpB,mBAAA,CAGM,OAHNqB,UAGM,G,kCAFDV,MAAA,CAAAK,SAAS,CAACM,OAAO,IAAG,GACvB,iBAAAtB,mBAAA,CAAqE,QAArEuB,WAAqE,EAAArB,gBAAA,CAAjCC,MAAA,CAAAC,SAAS,CAACe,MAAM,CAACK,MAAM,iB,GAE7DxB,mBAAA,CAGM,OAHNyB,WAGM,G,kCAFDd,MAAA,CAAAK,SAAS,CAACU,YAAY,IAAG,GAC5B,iBAAA1B,mBAAA,CAA4E,QAA5E2B,WAA4E,EAAAzB,gBAAA,CAAtCC,MAAA,CAAAC,SAAS,CAACe,MAAM,CAACS,WAAW,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}