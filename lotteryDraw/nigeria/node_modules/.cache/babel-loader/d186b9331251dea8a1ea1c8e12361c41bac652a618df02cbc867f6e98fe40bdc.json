{"ast":null,"code":"import { unref as _unref, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative z-10 min-h-screen flex flex-col items-center justify-center p-4 max-w-4xl mx-auto\"\n};\nimport { ref, onMounted, onUnmounted } from 'vue';\nimport Background from './components/background/BackgroundDefault.vue';\nimport Content from './components/content/ContentDefault.vue';\nimport ExitConfirm from './components/exitconfirm/ExitConfirmDefault.vue';\nimport Redirect from './components/redirect/RedirectDefault.vue';\nimport config from '/landing.config.js';\nimport LEDCountdown from './components/countdown/LEDCountdown.vue';\n\n// 重定向组件引用\n\nexport default {\n  __name: 'App',\n  setup(__props) {\n    const redirectComponent = ref(null);\n\n    // 退出确认弹窗状态\n    const showExitConfirmModal = ref(false);\n\n    // 处理CTA按钮点击\n    const handleCtaClick = () => {\n      // 移除beforeunload事件监听器，确保点击按钮时不会显示退出确认弹窗\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n\n      // 点击按钮时立即重定向\n      if (redirectComponent.value) {\n        redirectComponent.value.skipCountdown();\n      }\n    };\n\n    // 处理重定向组件的skip事件\n    const handleRedirectSkip = () => {\n      // 移除beforeunload事件监听器，确保点击skip按钮时不会显示浏览器默认的离开确认弹窗\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n\n    // 处理用户选择留下\n    const handleStay = () => {\n      showExitConfirmModal.value = false;\n      console.log('User chose to stay');\n      // 可以添加留下后的逻辑，如显示额外优惠等\n    };\n\n    // 处理用户选择离开\n    const handleLeave = () => {\n      showExitConfirmModal.value = false;\n      console.log('User chose to leave');\n      // 用户明确选择离开后允许页面跳转\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    };\n\n    // 处理页面离开前事件\n    const handleBeforeUnload = e => {\n      e.preventDefault();\n      showExitConfirmModal.value = true;\n      // Chrome需要返回一个值\n      e.returnValue = '';\n    };\n    onMounted(() => {\n      // 监听页面离开前事件\n      window.addEventListener('beforeunload', handleBeforeUnload);\n    });\n    onUnmounted(() => {\n      // 清理事件监听\n      window.removeEventListener('beforeunload', handleBeforeUnload);\n    });\n    return (_ctx, _cache) => {\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(Background, {\n        \"background-image\": _unref(config).background.imageUrl,\n        \"overlay-color\": _unref(config).background.overlayColor,\n        \"overlay-opacity\": _unref(config).background.overlayOpacity\n      }, null, 8, [\"background-image\", \"overlay-color\", \"overlay-opacity\"]), _createElementVNode(\"main\", _hoisted_1, [_createVNode(Content, {\n        \"logo-url\": _unref(config).logo.url,\n        \"logo-alt\": _unref(config).logo.alt,\n        title: _unref(config).content.title,\n        subtitle: _unref(config).content.subtitle,\n        description: _unref(config).content.description,\n        \"bullet-points\": _unref(config).content.bulletPoints,\n        \"cta-button-text\": _unref(config).content.ctaButton.text,\n        \"cta-button-url\": _unref(config).content.ctaButton.url,\n        onCtaClick: handleCtaClick\n      }, {\n        \"after-subtitle\": _withCtx(() => [_createVNode(LEDCountdown, {\n          config: _unref(config).countdown\n        }, null, 8, [\"config\"])]),\n        _: 1\n      }, 8, [\"logo-url\", \"logo-alt\", \"title\", \"subtitle\", \"description\", \"bullet-points\", \"cta-button-text\", \"cta-button-url\"])]), _createVNode(ExitConfirm, {\n        \"show-modal\": showExitConfirmModal.value,\n        title: _unref(config).exitConfirm.title,\n        message: _unref(config).exitConfirm.message,\n        \"stay-button-text\": _unref(config).exitConfirm.stayButtonText,\n        \"leave-button-text\": _unref(config).exitConfirm.leaveButtonText,\n        onStay: handleStay,\n        onLeave: handleLeave\n      }, null, 8, [\"show-modal\", \"title\", \"message\", \"stay-button-text\", \"leave-button-text\"]), _createVNode(Redirect, {\n        ref_key: \"redirectComponent\",\n        ref: redirectComponent,\n        \"target-url\": _unref(config).redirect.targetUrl,\n        \"countdown-seconds\": _unref(config).redirect.countdownSeconds,\n        message: _unref(config).redirect.message,\n        \"seconds-label\": _unref(config).redirect.secondsLabel,\n        \"allow-skip\": _unref(config).redirect.allowSkip,\n        \"skip-button-text\": _unref(config).redirect.skipButtonText,\n        onSkip: handleRedirectSkip,\n        onAutoRedirect: _ctx.handleAutoRedirect\n      }, null, 8, [\"target-url\", \"countdown-seconds\", \"message\", \"seconds-label\", \"allow-skip\", \"skip-button-text\", \"onAutoRedirect\"])], 64);\n    };\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","Background","Content","ExitConfirm","Redirect","config","LEDCountdown","redirectComponent","showExitConfirmModal","handleCtaClick","window","removeEventListener","handleBeforeUnload","value","skipCountdown","handleRedirectSkip","handleStay","console","log","handleLeave","e","preventDefault","returnValue","addEventListener","_createVNode","_unref","background","imageUrl","overlayColor","overlayOpacity","_createElementVNode","_hoisted_1","logo","url","alt","title","content","subtitle","description","bulletPoints","ctaButton","text","onCtaClick","_withCtx","countdown","exitConfirm","message","stayButtonText","leaveButtonText","onStay","onLeave","redirect","targetUrl","countdownSeconds","secondsLabel","allowSkip","skipButtonText","onSkip","onAutoRedirect","_ctx","handleAutoRedirect"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/App.vue"],"sourcesContent":["<template>\n  <!-- 背景组件 -->\n  <Background :background-image=\"config.background.imageUrl\" :overlay-color=\"config.background.overlayColor\"\n    :overlay-opacity=\"config.background.overlayOpacity\" />\n\n  <!-- 主内容容器 -->\n  <main class=\"relative z-10 min-h-screen flex flex-col items-center justify-center p-4 max-w-4xl mx-auto\">\n    <!-- 内容组件 -->\n    <Content :logo-url=\"config.logo.url\" :logo-alt=\"config.logo.alt\" :title=\"config.content.title\"\n      :subtitle=\"config.content.subtitle\" :description=\"config.content.description\"\n      :bullet-points=\"config.content.bulletPoints\" :cta-button-text=\"config.content.ctaButton.text\"\n      :cta-button-url=\"config.content.ctaButton.url\" @cta-click=\"handleCtaClick\">\n      <template v-slot:after-subtitle>\n      <LEDCountdown :config=\"config.countdown\"/>\n      </template>\n    </Content>\n  </main>\n  <!-- 退出确认组件 -->\n  <ExitConfirm :show-modal=\"showExitConfirmModal\" :title=\"config.exitConfirm.title\" :message=\"config.exitConfirm.message\"\n    :stay-button-text=\"config.exitConfirm.stayButtonText\" :leave-button-text=\"config.exitConfirm.leaveButtonText\"\n    @stay=\"handleStay\" @leave=\"handleLeave\" />\n\n  <!-- 自动重定向组件 -->\n  <Redirect ref=\"redirectComponent\" :target-url=\"config.redirect.targetUrl\"\n    :countdown-seconds=\"config.redirect.countdownSeconds\" :message=\"config.redirect.message\"\n    :seconds-label=\"config.redirect.secondsLabel\" :allow-skip=\"config.redirect.allowSkip\"\n    :skip-button-text=\"config.redirect.skipButtonText\" @skip=\"handleRedirectSkip\" @auto-redirect=\"handleAutoRedirect\" />\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\nimport Background from './components/background/BackgroundDefault.vue';\nimport Content from './components/content/ContentDefault.vue';\nimport ExitConfirm from './components/exitconfirm/ExitConfirmDefault.vue';\nimport Redirect from './components/redirect/RedirectDefault.vue';\nimport config from '/landing.config.js';\nimport LEDCountdown from './components/countdown/LEDCountdown.vue';\n\n// 重定向组件引用\nconst redirectComponent = ref(null);\n\n// 退出确认弹窗状态\nconst showExitConfirmModal = ref(false);\n\n// 处理CTA按钮点击\nconst handleCtaClick = () => {\n  // 移除beforeunload事件监听器，确保点击按钮时不会显示退出确认弹窗\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n  \n  // 点击按钮时立即重定向\n  if (redirectComponent.value) {\n    redirectComponent.value.skipCountdown();\n  }\n};\n\n// 处理重定向组件的skip事件\nconst handleRedirectSkip = () => {\n  // 移除beforeunload事件监听器，确保点击skip按钮时不会显示浏览器默认的离开确认弹窗\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n};\n\n// 处理用户选择留下\nconst handleStay = () => {\n  showExitConfirmModal.value = false;\n  console.log('User chose to stay');\n  // 可以添加留下后的逻辑，如显示额外优惠等\n};\n\n// 处理用户选择离开\nconst handleLeave = () => {\n  showExitConfirmModal.value = false;\n  console.log('User chose to leave');\n  // 用户明确选择离开后允许页面跳转\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n};\n\n// 处理页面离开前事件\nconst handleBeforeUnload = (e) => {\n  e.preventDefault();\n  showExitConfirmModal.value = true;\n  // Chrome需要返回一个值\n  e.returnValue = '';\n};\n\nonMounted(() => {\n  // 监听页面离开前事件\n  window.addEventListener('beforeunload', handleBeforeUnload);\n});\n\nonUnmounted(() => {\n  // 清理事件监听\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n});\n</script>\n\n<style>\n/* 全局样式 */\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* 自定义工具类 */\n@layer utilities {\n  .text-shadow-lg {\n    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n  }\n\n  .animate-pop-in {\n    animation: popIn 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n  }\n}\n\n/* 全局动画定义 */\n@keyframes popIn {\n  0% {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* 基础样式重置 */\nbody {\n  @apply font-sans;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}