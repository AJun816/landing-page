{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createVNode as _createVNode, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col items-center justify-center text-center text-white\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-2xl font-bold mb-6 animate-pulse\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center space-x-4\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"flex flex-col items-center\"\n};\nconst _hoisted_5 = {\n  class: \"text-sm mt-1\"\n};\nconst _hoisted_6 = {\n  class: \"flex flex-col items-center\"\n};\nconst _hoisted_7 = {\n  class: \"text-sm mt-1\"\n};\nconst _hoisted_8 = {\n  class: \"flex flex-col items-center\"\n};\nconst _hoisted_9 = {\n  class: \"text-sm mt-1\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 闪烁标题 \"), $props.config.label ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_2, _toDisplayString($props.config.label), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 倒计时数字 \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" 分钟 \"), $setup.minutes !== null ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode($setup[\"LedDigit\"], {\n    value: $setup.padZero($setup.minutes)\n  }, null, 8 /* PROPS */, [\"value\"]), _createElementVNode(\"span\", _hoisted_5, _toDisplayString($props.config.labels.minute), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 秒 \"), _createElementVNode(\"div\", _hoisted_6, [_createVNode($setup[\"LedDigit\"], {\n    value: $setup.padZero($setup.seconds)\n  }, null, 8 /* PROPS */, [\"value\"]), _createElementVNode(\"span\", _hoisted_7, _toDisplayString($props.config.labels.second), 1 /* TEXT */)]), _createCommentVNode(\" 毫秒 \"), _createElementVNode(\"div\", _hoisted_8, [_createVNode($setup[\"LedDigit\"], {\n    value: $setup.padZero($setup.milliseconds, 2),\n    small: \"\"\n  }, null, 8 /* PROPS */, [\"value\"]), _createElementVNode(\"span\", _hoisted_9, _toDisplayString($props.config.labels.millisecond), 1 /* TEXT */)])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","$props","config","label","_hoisted_2","_toDisplayString","_createElementVNode","_hoisted_3","$setup","minutes","_hoisted_4","_createVNode","value","padZero","_hoisted_5","labels","minute","_hoisted_6","seconds","_hoisted_7","second","_hoisted_8","milliseconds","small","_hoisted_9","millisecond"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/LEDCountdown.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-center text-center text-white\">\n    <!-- 闪烁标题 -->\n    <h2\n      class=\"text-2xl font-bold mb-6 animate-pulse\"\n      v-if=\"config.label\"\n    >\n      {{ config.label }}\n    </h2>\n\n    <!-- 倒计时数字 -->\n    <div class=\"flex items-center space-x-4\">\n      <!-- 分钟 -->\n      <div v-if=\"minutes !== null\" class=\"flex flex-col items-center\">\n        <LedDigit :value=\"padZero(minutes)\" />\n        <span class=\"text-sm mt-1\">{{ config.labels.minute }}</span>\n      </div>\n\n      <!-- 秒 -->\n      <div class=\"flex flex-col items-center\">\n        <LedDigit :value=\"padZero(seconds)\" />\n        <span class=\"text-sm mt-1\">{{ config.labels.second }}</span>\n      </div>\n\n      <!-- 毫秒 -->\n      <div class=\"flex flex-col items-center\">\n        <LedDigit :value=\"padZero(milliseconds, 2)\" small />\n        <span class=\"text-sm mt-1\">{{ config.labels.millisecond }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue'\n\n// 子组件：LED 数字\nconst LedDigit = {\n  props: {\n    value: { type: String, required: true },\n    small: { type: Boolean, default: false }\n  },\n  data() {\n    return {\n      flickerMap: {} // 用来记录粒子随机闪烁状态\n    }\n  },\n  mounted() {\n    // 每隔 300ms 随机刷新一批灯泡的亮灭，制造闪烁效果\n    this.flickerTimer = setInterval(() => {\n      const newMap = {}\n      for (let i = 0; i < 35; i++) {\n        newMap[i] = Math.random() > 0.9 // 10% 几率闪烁\n      }\n      this.flickerMap = newMap\n    }, 300)\n  },\n  unmounted() {\n    clearInterval(this.flickerTimer)\n  },\n  template: `\n    <div class=\"flex space-x-1\">\n      <span\n        v-for=\"(char, idx) in value\"\n        :key=\"idx\"\n        class=\"grid grid-cols-5 grid-rows-7 gap-0.5\"\n        :class=\"small ? 'w-10 h-14' : 'w-16 h-24'\"\n      >\n        <span\n          v-for=\"dotIdx in 35\"\n          :key=\"dotIdx\"\n          class=\"rounded-full transition duration-200\"\n          :class=\"getDotClass(char, dotIdx)\"\n        ></span>\n      </span>\n    </div>\n  `,\n  methods: {\n    // 点阵数字图案\n    getPattern(digit) {\n      const patterns = {\n        '0': [\n          1,1,1,1,1,\n          1,0,0,0,1,\n          1,0,0,1,1,\n          1,0,1,0,1,\n          1,1,0,0,1,\n          1,0,0,0,1,\n          1,1,1,1,1,\n        ],\n        '1': [\n          0,0,1,0,0,\n          0,1,1,0,0,\n          0,0,1,0,0,\n          0,0,1,0,0,\n          0,0,1,0,0,\n          0,0,1,0,0,\n          0,1,1,1,0,\n        ],\n        '2': [\n          1,1,1,1,0,\n          0,0,0,0,1,\n          0,0,0,0,1,\n          1,1,1,1,0,\n          1,0,0,0,0,\n          1,0,0,0,0,\n          1,1,1,1,1,\n        ],\n        '3': [\n          1,1,1,1,0,\n          0,0,0,0,1,\n          0,0,0,0,1,\n          0,1,1,1,0,\n          0,0,0,0,1,\n          0,0,0,0,1,\n          1,1,1,1,0,\n        ],\n        '4': [\n          1,0,0,1,0,\n          1,0,0,1,0,\n          1,0,0,1,0,\n          1,1,1,1,1,\n          0,0,0,1,0,\n          0,0,0,1,0,\n          0,0,0,1,0,\n        ],\n        '5': [\n          1,1,1,1,1,\n          1,0,0,0,0,\n          1,0,0,0,0,\n          1,1,1,1,0,\n          0,0,0,0,1,\n          0,0,0,0,1,\n          1,1,1,1,0,\n        ],\n        '6': [\n          0,1,1,1,0,\n          1,0,0,0,0,\n          1,0,0,0,0,\n          1,1,1,1,0,\n          1,0,0,0,1,\n          1,0,0,0,1,\n          0,1,1,1,0,\n        ],\n        '7': [\n          1,1,1,1,1,\n          0,0,0,0,1,\n          0,0,0,1,0,\n          0,0,1,0,0,\n          0,0,1,0,0,\n          0,0,1,0,0,\n          0,0,1,0,0,\n        ],\n        '8': [\n          0,1,1,1,0,\n          1,0,0,0,1,\n          1,0,0,0,1,\n          0,1,1,1,0,\n          1,0,0,0,1,\n          1,0,0,0,1,\n          0,1,1,1,0,\n        ],\n        '9': [\n          0,1,1,1,0,\n          1,0,0,0,1,\n          1,0,0,0,1,\n          0,1,1,1,1,\n          0,0,0,0,1,\n          0,0,0,0,1,\n          0,1,1,1,0,\n        ],\n      }\n      return patterns[digit] || Array(35).fill(0)\n    },\n    getDotClass(digit, dotIdx) {\n      const pattern = this.getPattern(digit)\n      const isOn = pattern[dotIdx - 1] === 1\n      if (!isOn) return 'bg-gray-900'\n      // 粒子随机闪烁：10% 概率偏暗\n      const flicker = this.flickerMap[dotIdx]\n      return flicker\n        ? 'bg-amber-200 shadow-[0_0_4px_#fcd34d]'\n        : 'bg-amber-400 shadow-[0_0_8px_#fbbf24]'\n    }\n  }\n}\n\nconst props = defineProps({\n  config: { type: Object, required: true }\n})\n\nconst minutes = ref(null)\nconst seconds = ref(0)\nconst milliseconds = ref(0)\nlet timer\n\nconst padZero = (num, length = 2) => String(num).padStart(length, '0')\n\nonMounted(() => {\n  const end = Date.now() + props.config.totalDuration\n  timer = setInterval(() => {\n    const diff = end - Date.now()\n    if (diff <= 0) {\n      minutes.value = 0\n      seconds.value = 0\n      milliseconds.value = 0\n      clearInterval(timer)\n    } else {\n      minutes.value = Math.floor(diff / 60000)\n      seconds.value = Math.floor((diff % 60000) / 1000)\n      milliseconds.value = Math.floor((diff % 1000) / 10)\n    }\n  }, 50)\n})\n\nonUnmounted(() => clearInterval(timer))\n</script>\n"],"mappings":";;EACOA,KAAK,EAAC;AAAkE;;;EAGzEA,KAAK,EAAC;;;EAOHA,KAAK,EAAC;AAA6B;;;EAETA,KAAK,EAAC;;;EAE3BA,KAAK,EAAC;AAAc;;EAIvBA,KAAK,EAAC;AAA4B;;EAE/BA,KAAK,EAAC;AAAc;;EAIvBA,KAAK,EAAC;AAA4B;;EAE/BA,KAAK,EAAC;AAAc;;uBA1BhCC,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BJC,mBAAA,UAAa,EAGLC,MAAA,CAAAC,MAAM,CAACC,KAAK,I,cAFpBL,mBAAA,CAKK,MALLM,UAKK,EAAAC,gBAAA,CADAJ,MAAA,CAAAC,MAAM,CAACC,KAAK,oB,mCAGjBH,mBAAA,WAAc,EACdM,mBAAA,CAkBM,OAlBNC,UAkBM,GAjBJP,mBAAA,QAAW,EACAQ,MAAA,CAAAC,OAAO,a,cAAlBX,mBAAA,CAGM,OAHNY,UAGM,GAFJC,YAAA,CAAsCH,MAAA;IAA3BI,KAAK,EAAEJ,MAAA,CAAAK,OAAO,CAACL,MAAA,CAAAC,OAAO;sCACjCH,mBAAA,CAA4D,QAA5DQ,UAA4D,EAAAT,gBAAA,CAA9BJ,MAAA,CAAAC,MAAM,CAACa,MAAM,CAACC,MAAM,iB,wCAGpDhB,mBAAA,OAAU,EACVM,mBAAA,CAGM,OAHNW,UAGM,GAFJN,YAAA,CAAsCH,MAAA;IAA3BI,KAAK,EAAEJ,MAAA,CAAAK,OAAO,CAACL,MAAA,CAAAU,OAAO;sCACjCZ,mBAAA,CAA4D,QAA5Da,UAA4D,EAAAd,gBAAA,CAA9BJ,MAAA,CAAAC,MAAM,CAACa,MAAM,CAACK,MAAM,iB,GAGpDpB,mBAAA,QAAW,EACXM,mBAAA,CAGM,OAHNe,UAGM,GAFJV,YAAA,CAAoDH,MAAA;IAAzCI,KAAK,EAAEJ,MAAA,CAAAK,OAAO,CAACL,MAAA,CAAAc,YAAY;IAAMC,KAAK,EAAL;sCAC5CjB,mBAAA,CAAiE,QAAjEkB,UAAiE,EAAAnB,gBAAA,CAAnCJ,MAAA,CAAAC,MAAM,CAACa,MAAM,CAACU,WAAW,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}