{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createElementVNode as _createElementVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flex flex-col items-center justify-center min-h-screen bg-black p-4\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"text-yellow-400 text-xl md:text-2xl font-bold mb-6 tracking-wider drop-shadow-[0_0_8px_rgba(255,255,0,0.7)]\"\n};\nconst _hoisted_3 = {\n  class: \"flex items-center justify-center flex-wrap\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_DigitGroup = _resolveComponent(\"DigitGroup\");\n  const _component_ColonSeparator = _resolveComponent(\"ColonSeparator\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 标题 \"), $props.config.label ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_2, _toDisplayString($props.config.label), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 倒计时显示 \"), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" flex-wrap for smaller screens \"), _createCommentVNode(\" 分钟 \"), $props.config.labels.minute ? (_openBlock(), _createBlock(_component_DigitGroup, {\n    key: 0,\n    digits: $setup.minutesDigits,\n    label: $props.config.labels.minute,\n    \"glow-color\": $props.config.glowColor || 'yellow'\n  }, null, 8 /* PROPS */, [\"digits\", \"label\", \"glow-color\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 冒号 \"), $props.config.labels.minute && $props.config.labels.second ? (_openBlock(), _createBlock(_component_ColonSeparator, {\n    key: 1,\n    \"glow-color\": $props.config.glowColor || 'yellow'\n  }, null, 8 /* PROPS */, [\"glow-color\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 秒 \"), $props.config.labels.second ? (_openBlock(), _createBlock(_component_DigitGroup, {\n    key: 2,\n    digits: $setup.secondsDigits,\n    label: $props.config.labels.second,\n    \"glow-color\": $props.config.glowColor || 'yellow'\n  }, null, 8 /* PROPS */, [\"digits\", \"label\", \"glow-color\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 冒号 \"), $props.config.labels.second && $props.config.labels.millisecond ? (_openBlock(), _createBlock(_component_ColonSeparator, {\n    key: 3,\n    \"glow-color\": $props.config.glowColor || 'yellow'\n  }, null, 8 /* PROPS */, [\"glow-color\"])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 毫秒 \"), $props.config.labels.millisecond ? (_openBlock(), _createBlock(_component_DigitGroup, {\n    key: 4,\n    digits: $setup.millisecondsDigits,\n    label: $props.config.labels.millisecond,\n    \"glow-color\": $props.config.glowColor || 'yellow'\n  }, null, 8 /* PROPS */, [\"digits\", \"label\", \"glow-color\"])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","$props","config","label","_hoisted_2","_toDisplayString","_createElementVNode","_hoisted_3","labels","minute","_createBlock","_component_DigitGroup","digits","$setup","minutesDigits","glowColor","second","_component_ColonSeparator","secondsDigits","millisecond","millisecondsDigits"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/LEDCountdown.vue"],"sourcesContent":["\n\n\n\n<template>\n  <div class=\"flex flex-col items-center justify-center min-h-screen bg-black p-4\">\n    <!-- 标题 -->\n    <h1\n      v-if=\"config.label\"\n      class=\"text-yellow-400 text-xl md:text-2xl font-bold mb-6 tracking-wider drop-shadow-[0_0_8px_rgba(255,255,0,0.7)]\"\n    >\n      {{ config.label }}\n    </h1>\n\n    <!-- 倒计时显示 -->\n    <div class=\"flex items-center justify-center flex-wrap\"> <!-- flex-wrap for smaller screens -->\n      <!-- 分钟 -->\n      <DigitGroup\n        v-if=\"config.labels.minute\"\n        :digits=\"minutesDigits\"\n        :label=\"config.labels.minute\"\n        :glow-color=\"config.glowColor || 'yellow'\"\n      />\n\n      <!-- 冒号 -->\n      <ColonSeparator v-if=\"config.labels.minute && config.labels.second\" :glow-color=\"config.glowColor || 'yellow'\" />\n\n      <!-- 秒 -->\n      <DigitGroup\n        v-if=\"config.labels.second\"\n        :digits=\"secondsDigits\"\n        :label=\"config.labels.second\"\n        :glow-color=\"config.glowColor || 'yellow'\"\n      />\n\n      <!-- 冒号 -->\n      <ColonSeparator\n        v-if=\"config.labels.second && config.labels.millisecond\"\n        :glow-color=\"config.glowColor || 'yellow'\"\n      />\n\n      <!-- 毫秒 -->\n      <DigitGroup\n        v-if=\"config.labels.millisecond\"\n        :digits=\"millisecondsDigits\"\n        :label=\"config.labels.millisecond\"\n        :glow-color=\"config.glowColor || 'yellow'\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { defineComponent, ref, computed, onMounted, onBeforeUnmount } from 'vue';\n\n// --- LED Digit Component ---\nconst SEGMENT_MAP = {\n  0: [1, 1, 1, 1, 1, 1, 0],\n  1: [0, 1, 1, 0, 0, 0, 0],\n  2: [1, 1, 0, 1, 1, 0, 1],\n  3: [1, 1, 1, 1, 0, 0, 1],\n  4: [0, 1, 1, 0, 0, 1, 1],\n  5: [1, 0, 1, 1, 0, 1, 1],\n  6: [1, 0, 1, 1, 1, 1, 1],\n  7: [1, 1, 1, 0, 0, 0, 0],\n  8: [1, 1, 1, 1, 1, 1, 1],\n  9: [1, 1, 1, 1, 0, 1, 1],\n};\n\nconst LEDDigit = defineComponent({\n  name: 'LEDDigit',\n  props: {\n    digit: { type: [Number, String], default: 0 },\n    glowColor: { type: String, default: 'yellow' } // Prop for glow color\n  },\n  setup(props) {\n    const segments = computed(() => SEGMENT_MAP[props.digit] || [0, 0, 0, 0, 0, 0, 0]);\n    // Map glow color name to Tailwind classes\n    const glowClasses = computed(() => {\n        const colorMap = {\n            yellow: 'bg-yellow-400 shadow-[0_0_5px_#ffff00,inset_0_0_2px_#ffff00]',\n            red: 'bg-red-500 shadow-[0_0_5px_#ef4444,inset_0_0_2px_#ef4444]',\n            green: 'bg-green-500 shadow-[0_0_5px_#22c55e,inset_0_0_2px_#22c55e]',\n            blue: 'bg-blue-500 shadow-[0_0_5px_#3b82f6,inset_0_0_2px_#3b82f6]',\n            // Add more colors as needed\n        };\n        return colorMap[props.glowColor] || colorMap.yellow; // Default to yellow\n    });\n\n    return { segments, glowClasses };\n  },\n  template: `\n    <div class=\"relative w-10 h-16 md:w-12 md:h-20 lg:w-14 lg:h-24 bg-gray-900 rounded-sm border border-gray-700 mx-0.5\"> <!-- Added margin for spacing -->\n      <!-- Segment a -->\n      <div class=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-6 h-1.5 md:w-8 md:h-2 lg:w-10 lg:h-2 bg-gray-700 rounded-sm\"\n           :class=\"[segments[0] ? glowClasses : '']\"></div>\n      <!-- Segment b -->\n      <div class=\"absolute top-1/2 right-0 transform -translate-y-1/2 w-1.5 h-6 md:w-2 md:h-8 lg:w-2 lg:h-10 bg-gray-700 rounded-sm\"\n           :class=\"[segments[1] ? glowClasses : '']\"></div>\n      <!-- Segment c -->\n      <div class=\"absolute bottom-0 right-0 w-1.5 h-6 md:w-2 md:h-8 lg:w-2 lg:h-10 bg-gray-700 rounded-sm\"\n           :class=\"[segments[2] ? glowClasses : '']\"></div>\n      <!-- Segment d -->\n      <div class=\"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-6 h-1.5 md:w-8 md:h-2 lg:w-10 lg:h-2 bg-gray-700 rounded-sm\"\n           :class=\"[segments[3] ? glowClasses : '']\"></div>\n      <!-- Segment e -->\n      <div class=\"absolute bottom-0 left-0 w-1.5 h-6 md:w-2 md:h-8 lg:w-2 lg:h-10 bg-gray-700 rounded-sm\"\n           :class=\"[segments[4] ? glowClasses : '']\"></div>\n      <!-- Segment f -->\n      <div class=\"absolute top-1/2 left-0 transform -translate-y-1/2 w-1.5 h-6 md:w-2 md:h-8 lg:w-2 lg:h-10 bg-gray-700 rounded-sm\"\n           :class=\"[segments[5] ? glowClasses : '']\"></div>\n      <!-- Segment g -->\n      <div class=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-6 h-1.5 md:w-8 md:h-2 lg:w-10 lg:h-2 bg-gray-700 rounded-sm\"\n           :class=\"[segments[6] ? glowClasses : '']\"></div>\n    </div>\n  `\n});\n\n// --- Colon Separator Component ---\nconst ColonSeparator = defineComponent({\n  name: 'ColonSeparator',\n  props: {\n    glowColor: { type: String, default: 'yellow' } // Prop for glow color\n  },\n  setup(props) {\n     const glowClasses = computed(() => {\n        const colorMap = {\n            yellow: 'bg-yellow-400 shadow-[0_0_5px_#ffff00,inset_0_0_2px_#ffff00]',\n            red: 'bg-red-500 shadow-[0_0_5px_#ef4444,inset_0_0_2px_#ef4444]',\n            green: 'bg-green-500 shadow-[0_0_5px_#22c55e,inset_0_0_2px_#22c55e]',\n            blue: 'bg-blue-500 shadow-[0_0_5px_#3b82f6,inset_0_0_2px_#3b82f6]',\n        };\n        return colorMap[props.glowColor] || colorMap.yellow;\n    });\n    return { glowClasses };\n  },\n  template: `\n    <div class=\"flex flex-col items-center justify-center mx-1 my-4\"> <!-- Added vertical margin -->\n      <div class=\"w-2 h-2 md:w-3 md:h-3 rounded-full bg-gray-700 mb-1\"\n           :class=\"glowClasses\"></div>\n      <div class=\"w-2 h-2 md:w-3 md:h-3 rounded-full bg-gray-700\"\n           :class=\"glowClasses\"></div>\n    </div>\n  `\n});\n\n// --- Digit Group Component ---\nconst DigitGroup = defineComponent({\n  name: 'DigitGroup',\n  components: { LEDDigit },\n  props: {\n    digits: { type: Array, required: true },\n    label: { type: String, required: true },\n    glowColor: { type: String, default: 'yellow' } // Prop for glow color\n  },\n  template: `\n    <div class=\"flex flex-col items-center mx-1\"> <!-- Added horizontal margin -->\n      <div class=\"flex\">\n        <LEDDigit v-for=\"(digit, index) in digits\" :key=\"index\" :digit=\"digit\" :glow-color=\"glowColor\" />\n      </div>\n      <div class=\"text-yellow-400 text-xs md:text-sm mt-1 tracking-wider drop-shadow-[0_0_4px_rgba(255,255,0,0.5)]\"\n           :class=\"{\n                'text-yellow-400 drop-shadow-[0_0_4px_rgba(255,255,0,0.5)]': glowColor === 'yellow',\n                'text-red-500 drop-shadow-[0_0_4px_rgba(239,68,68,0.5)]': glowColor === 'red',\n                'text-green-500 drop-shadow-[0_0_4px_rgba(34,197,94,0.5)]': glowColor === 'green',\n                'text-blue-500 drop-shadow-[0_0_4px_rgba(59,130,246,0.5)]': glowColor === 'blue',\n           }\"\n      >\n        {{ label }}\n      </div>\n    </div>\n  `\n});\n\n// --- Main Countdown Timer Component ---\nexport default {\n  name: 'LEDCountdownTimer',\n  components: {\n    LEDDigit,\n    ColonSeparator,\n    DigitGroup\n  },\n  props: {\n    config: {\n      type: Object,\n      required: true,\n      validator(value) {\n        // Basic validation\n        return (\n          typeof value.totalDuration === 'number' &&\n          value.totalDuration >= 0 &&\n          value.labels &&\n          typeof value.labels === 'object'\n        );\n        // Note: label and individual label keys are optional based on template logic\n      }\n    }\n  },\n  setup(props) {\n    const timeLeft = ref(props.config.totalDuration);\n    let intervalId = null;\n\n    const minutes = computed(() => Math.floor(timeLeft.value / 60000));\n    const seconds = computed(() => Math.floor((timeLeft.value % 60000) / 1000));\n    // Display milliseconds as two digits (00-99)\n    const milliseconds = computed(() => Math.floor((timeLeft.value % 1000) / 10));\n\n    const minutesDigits = computed(() => [\n      Math.floor(minutes.value / 10),\n      minutes.value % 10\n    ]);\n\n    const secondsDigits = computed(() => [\n      Math.floor(seconds.value / 10),\n      seconds.value % 10\n    ]);\n\n    const millisecondsDigits = computed(() => [\n      Math.floor(milliseconds.value / 10),\n      milliseconds.value % 10\n    ]);\n\n    const startCountdown = () => {\n      // Clear any existing interval to prevent multiple timers\n      if (intervalId) clearInterval(intervalId);\n\n      intervalId = setInterval(() => {\n        if (timeLeft.value <= 0) {\n          clearInterval(intervalId);\n          timeLeft.value = 0; // Ensure it stops at 00:00:00\n        } else {\n          timeLeft.value -= 10; // Update every 10ms for smoother millisecond display\n        }\n      }, 10);\n    };\n\n    const resetCountdown = () => {\n        if (intervalId) clearInterval(intervalId);\n        timeLeft.value = props.config.totalDuration;\n        startCountdown(); // Restart after reset\n    };\n\n    onMounted(() => {\n      startCountdown();\n    });\n\n    onBeforeUnmount(() => {\n      if (intervalId) clearInterval(intervalId);\n    });\n\n    // Expose reset function if needed by parent\n    // provide('resetCountdown', resetCountdown);\n\n    return {\n      timeLeft,\n      minutes,\n      seconds,\n      milliseconds,\n      minutesDigits,\n      secondsDigits,\n      millisecondsDigits,\n      resetCountdown // Expose reset function\n    };\n  }\n};\n</script>\n\n<style scoped>\n/* Scoped styles can be added here if needed, but most styling is via Tailwind */\n</style>\n\n\n\n"],"mappings":";;EAKOA,KAAK,EAAC;AAAqE;;;EAI5EA,KAAK,EAAC;;;EAMHA,KAAK,EAAC;AAA4C;;;;uBAVzDC,mBAAA,CA4CM,OA5CNC,UA4CM,GA3CJC,mBAAA,QAAW,EAEHC,MAAA,CAAAC,MAAM,CAACC,KAAK,I,cADpBL,mBAAA,CAKK,MALLM,UAKK,EAAAC,gBAAA,CADAJ,MAAA,CAAAC,MAAM,CAACC,KAAK,oB,mCAGjBH,mBAAA,WAAc,EACdM,mBAAA,CAiCM,OAjCNC,UAiCM,GAjCmDP,mBAAA,mCAAsC,EAC7FA,mBAAA,QAAW,EAEHC,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACC,MAAM,I,cAD5BC,YAAA,CAKEC,qBAAA;;IAHCC,MAAM,EAAEC,MAAA,CAAAC,aAAa;IACrBX,KAAK,EAAEF,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACC,MAAM;IAC3B,YAAU,EAAER,MAAA,CAAAC,MAAM,CAACa,SAAS;mGAG/Bf,mBAAA,QAAW,EACWC,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACC,MAAM,IAAIR,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACQ,MAAM,I,cAAlEN,YAAA,CAAiHO,yBAAA;;IAA5C,YAAU,EAAEhB,MAAA,CAAAC,MAAM,CAACa,SAAS;gFAEjGf,mBAAA,OAAU,EAEFC,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACQ,MAAM,I,cAD5BN,YAAA,CAKEC,qBAAA;;IAHCC,MAAM,EAAEC,MAAA,CAAAK,aAAa;IACrBf,KAAK,EAAEF,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACQ,MAAM;IAC3B,YAAU,EAAEf,MAAA,CAAAC,MAAM,CAACa,SAAS;mGAG/Bf,mBAAA,QAAW,EAEHC,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACQ,MAAM,IAAIf,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACW,WAAW,I,cADzDT,YAAA,CAGEO,yBAAA;;IADC,YAAU,EAAEhB,MAAA,CAAAC,MAAM,CAACa,SAAS;gFAG/Bf,mBAAA,QAAW,EAEHC,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACW,WAAW,I,cADjCT,YAAA,CAKEC,qBAAA;;IAHCC,MAAM,EAAEC,MAAA,CAAAO,kBAAkB;IAC1BjB,KAAK,EAAEF,MAAA,CAAAC,MAAM,CAACM,MAAM,CAACW,WAAW;IAChC,YAAU,EAAElB,MAAA,CAAAC,MAAM,CAACa,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}