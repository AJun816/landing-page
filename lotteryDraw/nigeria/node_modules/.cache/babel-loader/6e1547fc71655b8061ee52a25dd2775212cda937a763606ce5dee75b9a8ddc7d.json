{"ast":null,"code":"import { ref, onMounted, onUnmounted, computed } from 'vue';\nexport default {\n  __name: 'LEDCountdown',\n  props: {\n    label: {\n      type: String,\n      default: '活动倒计时'\n    },\n    totalDuration: {\n      type: Number,\n      default: 60000\n    },\n    labels: {\n      type: Object,\n      default: () => ({\n        minute: '分',\n        second: '秒',\n        millisecond: '毫秒'\n      })\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n\n    // 倒计时状态\n    const timeLeft = ref(props.totalDuration);\n    const showColon = ref(true);\n    let startTime, timer;\n\n    // 计算属性 - 解析时间\n    const minutes = computed(() => Math.floor(timeLeft.value / 1000 / 60));\n    const seconds = computed(() => Math.floor(timeLeft.value / 1000 % 60));\n    const milliseconds = computed(() => Math.floor(timeLeft.value % 1000 / 10));\n\n    // 更新倒计时\n    const updateCountdown = () => {\n      const now = Date.now();\n      const elapsed = now - startTime;\n      timeLeft.value = Math.max(props.totalDuration - elapsed, 0);\n\n      // 冒号闪烁效果\n      showColon.value = Math.floor(Date.now() / 500) % 2 === 0;\n\n      // 倒计时结束\n      if (timeLeft.value <= 0) {\n        clearInterval(timer);\n      }\n    };\n\n    // 生命周期钩子\n    onMounted(() => {\n      startTime = Date.now();\n      timer = setInterval(updateCountdown, 10); // 每10ms更新一次，以显示毫秒\n    });\n    onUnmounted(() => {\n      if (timer) {\n        clearInterval(timer);\n      }\n    });\n    const __returned__ = {\n      props,\n      timeLeft,\n      showColon,\n      get startTime() {\n        return startTime;\n      },\n      set startTime(v) {\n        startTime = v;\n      },\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      minutes,\n      seconds,\n      milliseconds,\n      updateCountdown,\n      ref,\n      onMounted,\n      onUnmounted,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","computed","props","__props","timeLeft","totalDuration","showColon","startTime","timer","minutes","Math","floor","value","seconds","milliseconds","updateCountdown","now","Date","elapsed","max","clearInterval","setInterval"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/LEDCountdown.vue"],"sourcesContent":["<!-- LEDCountdown.vue -->\n<template>\n  <div class=\"led-countdown-container flex flex-col items-center justify-center space-y-4\">\n    <h2 class=\"led-title text-2xl font-bold animate-pulse bg-gradient-to-r from-yellow-400 to-amber-600 bg-clip-text text-transparent\">\n      {{ label }}\n    </h2>\n    \n    <div class=\"led-display flex items-center justify-center space-x-3 relative\">\n      <!-- 分钟显示 -->\n      <div class=\"led-digit-group\">\n        <div class=\"led-digit\" :class=\"{ 'digit-active': minutes > 0 }\">\n          {{ Math.floor(minutes / 10) }}\n        </div>\n        <div class=\"led-digit\" :class=\"{ 'digit-active': minutes > 0 }\">\n          {{ minutes % 10 }}\n        </div>\n        <div class=\"led-label\">{{ labels.minute }}</div>\n      </div>\n      \n      <!-- 冒号 -->\n      <div class=\"led-colon\">\n        <div class=\"led-dot\" :class=\"{ 'dot-active': showColon }\"></div>\n        <div class=\"led-dot\" :class=\"{ 'dot-active': showColon }\"></div>\n      </div>\n      \n      <!-- 秒显示 -->\n      <div class=\"led-digit-group\">\n        <div class=\"led-digit\">\n          {{ Math.floor(seconds / 10) }}\n        </div>\n        <div class=\"led-digit\">\n          {{ seconds % 10 }}\n        </div>\n        <div class=\"led-label\">{{ labels.second }}</div>\n      </div>\n      \n      <!-- 毫秒显示 -->\n      <div class=\"led-millisecond-group\">\n        <div class=\"led-millisecond-digit\">\n          {{ Math.floor(milliseconds / 10) }}\n        </div>\n        <div class=\"led-millisecond-digit\">\n          {{ milliseconds % 10 }}\n        </div>\n        <div class=\"led-label\">{{ labels.millisecond }}</div>\n      </div>\n      \n      <!-- 扫描线效果 -->\n      <div class=\"led-scanline\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\n\nconst props = defineProps({\n  label: {\n    type: String,\n    default: '活动倒计时'\n  },\n  totalDuration: {\n    type: Number,\n    default: 60000\n  },\n  labels: {\n    type: Object,\n    default: () => ({\n      minute: '分',\n      second: '秒',\n      millisecond: '毫秒'\n    })\n  }\n});\n\n// 倒计时状态\nconst timeLeft = ref(props.totalDuration);\nconst showColon = ref(true);\nlet startTime, timer;\n\n// 计算属性 - 解析时间\nconst minutes = computed(() => Math.floor((timeLeft.value / 1000) / 60));\nconst seconds = computed(() => Math.floor((timeLeft.value / 1000) % 60));\nconst milliseconds = computed(() => Math.floor((timeLeft.value % 1000) / 10));\n\n// 更新倒计时\nconst updateCountdown = () => {\n  const now = Date.now();\n  const elapsed = now - startTime;\n  timeLeft.value = Math.max(props.totalDuration - elapsed, 0);\n  \n  // 冒号闪烁效果\n  showColon.value = Math.floor((Date.now() / 500)) % 2 === 0;\n  \n  // 倒计时结束\n  if (timeLeft.value <= 0) {\n    clearInterval(timer);\n  }\n};\n\n// 生命周期钩子\nonMounted(() => {\n  startTime = Date.now();\n  timer = setInterval(updateCountdown, 10); // 每10ms更新一次，以显示毫秒\n});\n\nonUnmounted(() => {\n  if (timer) {\n    clearInterval(timer);\n  }\n});\n</script>\n\n<style scoped>\n/* LED容器样式 */\n.led-countdown-container {\n  font-family: 'Courier New', monospace;\n  position: relative;\n}\n\n/* LED显示面板 */\n.led-display {\n  background-color: #0a0a0a;\n  padding: 20px 30px;\n  border-radius: 10px;\n  box-shadow: 0 0 30px rgba(255, 204, 0, 0.3);\n  position: relative;\n  border: 2px solid #333;\n}\n\n/* LED数字组 */\n.led-digit-group,\n.led-millisecond-group {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n/* LED数字 */\n.led-digit {\n  width: 40px;\n  height: 60px;\n  background-color: #0a0a0a;\n  border: 2px solid #333;\n  border-radius: 5px;\n  margin: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32px;\n  font-weight: bold;\n  color: #333;\n  text-shadow: 0 0 5px rgba(255, 204, 0, 0.3);\n  position: relative;\n  overflow: hidden;\n}\n\n/* 激活的数字 */\n.led-digit.digit-active {\n  color: #ffcc00;\n  text-shadow: 0 0 10px rgba(255, 204, 0, 0.8),\n               0 0 20px rgba(255, 204, 0, 0.5),\n               0 0 30px rgba(255, 204, 0, 0.3);\n  box-shadow: inset 0 0 10px rgba(255, 204, 0, 0.5);\n}\n\n/* 毫秒数字 */\n.led-millisecond-digit {\n  width: 30px;\n  height: 45px;\n  background-color: #0a0a0a;\n  border: 2px solid #333;\n  border-radius: 5px;\n  margin: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #ffcc00;\n  text-shadow: 0 0 5px rgba(255, 204, 0, 0.5);\n}\n\n/* 冒号样式 */\n.led-colon {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 60px;\n  margin: 0 10px;\n}\n\n.led-dot {\n  width: 10px;\n  height: 10px;\n  background-color: #333;\n  border-radius: 50%;\n  margin: 5px 0;\n  transition: all 0.1s ease;\n}\n\n.led-dot.dot-active {\n  background-color: #ffcc00;\n  box-shadow: 0 0 10px rgba(255, 204, 0, 0.8);\n}\n\n/* 标签样式 */\n.led-label {\n  font-size: 12px;\n  color: #666;\n  margin-top: 5px;\n  text-transform: uppercase;\n  letter-spacing: 1px;\n}\n\n/* 扫描线效果 */\n.led-scanline {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background: linear-gradient(\n    90deg,\n    rgba(255, 204, 0, 0) 0%,\n    rgba(255, 204, 0, 0.5) 50%,\n    rgba(255, 204, 0, 0) 100%\n  );\n  animation: scanline 3s linear infinite;\n  pointer-events: none;\n}\n\n/* 扫描线动画 */\n@keyframes scanline {\n  0% { top: 0; }\n  100% { top: 100%; }\n}\n\n/* 脉冲动画 */\n.led-title {\n  animation: pulse 2s infinite ease-in-out;\n}\n\n@keyframes pulse {\n  0% { opacity: 0.8; transform: scale(0.98); }\n  50% { opacity: 1; transform: scale(1.02); }\n  100% { opacity: 0.8; transform: scale(0.98); }\n}\n\n/* 响应式设计 */\n@media (max-width: 640px) {\n  .led-digit {\n    width: 30px;\n    height: 45px;\n    font-size: 24px;\n  }\n  \n  .led-millisecond-digit {\n    width: 20px;\n    height: 30px;\n    font-size: 14px;\n  }\n  \n  .led-display {\n    padding: 15px 20px;\n  }\n  \n  .led-title {\n    font-size: 1.2rem;\n  }\n}\n</style>"],"mappings":"AAsDA,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;IAE3D,MAAMC,KAAK,GAAGC,OAiBZ;;IAEF;IACA,MAAMC,QAAQ,GAAGN,GAAG,CAACI,KAAK,CAACG,aAAa,CAAC;IACzC,MAAMC,SAAS,GAAGR,GAAG,CAAC,IAAI,CAAC;IAC3B,IAAIS,SAAS,EAAEC,KAAK;;IAEpB;IACA,MAAMC,OAAO,GAAGR,QAAQ,CAAC,MAAMS,IAAI,CAACC,KAAK,CAAEP,QAAQ,CAACQ,KAAK,GAAG,IAAI,GAAI,EAAE,CAAC,CAAC;IACxE,MAAMC,OAAO,GAAGZ,QAAQ,CAAC,MAAMS,IAAI,CAACC,KAAK,CAAEP,QAAQ,CAACQ,KAAK,GAAG,IAAI,GAAI,EAAE,CAAC,CAAC;IACxE,MAAME,YAAY,GAAGb,QAAQ,CAAC,MAAMS,IAAI,CAACC,KAAK,CAAEP,QAAQ,CAACQ,KAAK,GAAG,IAAI,GAAI,EAAE,CAAC,CAAC;;IAE7E;IACA,MAAMG,eAAe,GAAGA,CAAA,KAAM;MAC5B,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;MACtB,MAAME,OAAO,GAAGF,GAAG,GAAGT,SAAS;MAC/BH,QAAQ,CAACQ,KAAK,GAAGF,IAAI,CAACS,GAAG,CAACjB,KAAK,CAACG,aAAa,GAAGa,OAAO,EAAE,CAAC,CAAC;;MAE3D;MACAZ,SAAS,CAACM,KAAK,GAAGF,IAAI,CAACC,KAAK,CAAEM,IAAI,CAACD,GAAG,CAAC,CAAC,GAAG,GAAI,CAAC,GAAG,CAAC,KAAK,CAAC;;MAE1D;MACA,IAAIZ,QAAQ,CAACQ,KAAK,IAAI,CAAC,EAAE;QACvBQ,aAAa,CAACZ,KAAK,CAAC;MACtB;IACF,CAAC;;IAED;IACAT,SAAS,CAAC,MAAM;MACdQ,SAAS,GAAGU,IAAI,CAACD,GAAG,CAAC,CAAC;MACtBR,KAAK,GAAGa,WAAW,CAACN,eAAe,EAAE,EAAE,CAAC,CAAC,CAAC;IAC5C,CAAC,CAAC;IAEFf,WAAW,CAAC,MAAM;MAChB,IAAIQ,KAAK,EAAE;QACTY,aAAa,CAACZ,KAAK,CAAC;MACtB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}