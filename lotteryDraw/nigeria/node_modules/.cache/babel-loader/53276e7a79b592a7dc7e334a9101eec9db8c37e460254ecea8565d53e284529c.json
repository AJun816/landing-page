{"ast":null,"code":"import { reactive, onMounted, onUnmounted } from 'vue';\nexport default {\n  __name: 'LEDCountdown',\n  props: {\n    config: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const time = reactive({\n      minutes: '00',\n      seconds: '00',\n      milliseconds: '000'\n    });\n    let timer = null;\n\n    // 倒计时逻辑\n    const startCountdown = () => {\n      const end = Date.now() + props.config.totalDuration;\n      timer = setInterval(() => {\n        const remaining = Math.max(0, end - Date.now());\n        const minutes = Math.floor(remaining / 60000);\n        const seconds = Math.floor(remaining % 60000 / 1000);\n        const milliseconds = Math.floor(remaining % 1000);\n        time.minutes = String(minutes).padStart(2, '0');\n        time.seconds = String(seconds).padStart(2, '0');\n        time.milliseconds = String(milliseconds).padStart(3, '0');\n        if (remaining <= 0) {\n          clearInterval(timer);\n        }\n      }, 50);\n    };\n    onMounted(() => {\n      startCountdown();\n    });\n    onUnmounted(() => {\n      clearInterval(timer);\n    });\n    const __returned__ = {\n      props,\n      time,\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      startCountdown,\n      reactive,\n      onMounted,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","onMounted","onUnmounted","props","__props","time","minutes","seconds","milliseconds","timer","startCountdown","end","Date","now","config","totalDuration","setInterval","remaining","Math","max","floor","String","padStart","clearInterval"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/LEDCountdown.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-center space-y-6 bg-black p-6 rounded-2xl shadow-2xl\">\n    <!-- 闪烁标题 -->\n    <h1\n      class=\"text-2xl font-bold text-red-500 animate-blink\"\n    >\n      {{ config.label }}\n    </h1>\n\n    <!-- 倒计时主体 -->\n    <div class=\"flex space-x-4 text-red-500 font-mono text-5xl font-extrabold\">\n      <!-- 分钟 -->\n      <div class=\"flex flex-col items-center\">\n        <div class=\"dot-matrix\">{{ time.minutes }}</div>\n        <span class=\"text-sm text-gray-300 mt-1\">{{ config.labels.minute }}</span>\n      </div>\n      <!-- 秒 -->\n      <div class=\"flex flex-col items-center\">\n        <div class=\"dot-matrix\">{{ time.seconds }}</div>\n        <span class=\"text-sm text-gray-300 mt-1\">{{ config.labels.second }}</span>\n      </div>\n      <!-- 毫秒 -->\n      <div class=\"flex flex-col items-center\">\n        <div class=\"dot-matrix\">{{ time.milliseconds }}</div>\n        <span class=\"text-sm text-gray-300 mt-1\">{{ config.labels.millisecond }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, onMounted, onUnmounted } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    required: true\n  }\n})\n\nconst time = reactive({\n  minutes: '00',\n  seconds: '00',\n  milliseconds: '000'\n})\n\nlet timer = null\n\n// 倒计时逻辑\nconst startCountdown = () => {\n  const end = Date.now() + props.config.totalDuration\n\n  timer = setInterval(() => {\n    const remaining = Math.max(0, end - Date.now())\n\n    const minutes = Math.floor(remaining / 60000)\n    const seconds = Math.floor((remaining % 60000) / 1000)\n    const milliseconds = Math.floor((remaining % 1000))\n\n    time.minutes = String(minutes).padStart(2, '0')\n    time.seconds = String(seconds).padStart(2, '0')\n    time.milliseconds = String(milliseconds).padStart(3, '0')\n\n    if (remaining <= 0) {\n      clearInterval(timer)\n    }\n  }, 50)\n}\n\nonMounted(() => {\n  startCountdown()\n})\n\nonUnmounted(() => {\n  clearInterval(timer)\n})\n</script>\n\n<style scoped>\n/* 标题闪烁动画 */\n@keyframes blink {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.2; }\n}\n.animate-blink {\n  animation: blink 1s infinite;\n}\n\n/* LED 点阵效果 */\n.dot-matrix {\n  display: inline-block;\n  padding: 10px 16px;\n  background: radial-gradient(circle, #ff1a1a 20%, #660000 70%);\n  border-radius: 8px;\n  box-shadow:\n    0 0 8px rgba(255, 0, 0, 0.9),\n    inset 0 0 6px rgba(255, 100, 100, 0.8);\n  position: relative;\n  font-variant-numeric: tabular-nums;\n  letter-spacing: 2px;\n}\n\n/* 粒子闪烁（模拟LED随机亮灭） */\n.dot-matrix::after {\n  content: '';\n  position: absolute;\n  top: 10%;\n  left: 10%;\n  width: 80%;\n  height: 80%;\n  background-image: radial-gradient(circle, rgba(255,0,0,0.8) 2px, transparent 2px);\n  background-size: 8px 8px;\n  animation: flicker 1s infinite;\n  opacity: 0.7;\n}\n\n@keyframes flicker {\n  0%, 100% { opacity: 0.7; }\n  50% { opacity: 0.3; }\n}\n</style>\n"],"mappings":"AA+BA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,KAAI;;;;;;;;;;;;;IAErD,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,IAAI,GAAGL,QAAQ,CAAC;MACpBM,OAAO,EAAE,IAAI;MACbC,OAAO,EAAE,IAAI;MACbC,YAAY,EAAE;IAChB,CAAC;IAED,IAAIC,KAAK,GAAG,IAAG;;IAEf;IACA,MAAMC,cAAc,GAAGA,CAAA,KAAM;MAC3B,MAAMC,GAAG,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGV,KAAK,CAACW,MAAM,CAACC,aAAY;MAElDN,KAAK,GAAGO,WAAW,CAAC,MAAM;QACxB,MAAMC,SAAS,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAER,GAAG,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;QAE9C,MAAMP,OAAO,GAAGY,IAAI,CAACE,KAAK,CAACH,SAAS,GAAG,KAAK;QAC5C,MAAMV,OAAO,GAAGW,IAAI,CAACE,KAAK,CAAEH,SAAS,GAAG,KAAK,GAAI,IAAI;QACrD,MAAMT,YAAY,GAAGU,IAAI,CAACE,KAAK,CAAEH,SAAS,GAAG,IAAK;QAElDZ,IAAI,CAACC,OAAO,GAAGe,MAAM,CAACf,OAAO,CAAC,CAACgB,QAAQ,CAAC,CAAC,EAAE,GAAG;QAC9CjB,IAAI,CAACE,OAAO,GAAGc,MAAM,CAACd,OAAO,CAAC,CAACe,QAAQ,CAAC,CAAC,EAAE,GAAG;QAC9CjB,IAAI,CAACG,YAAY,GAAGa,MAAM,CAACb,YAAY,CAAC,CAACc,QAAQ,CAAC,CAAC,EAAE,GAAG;QAExD,IAAIL,SAAS,IAAI,CAAC,EAAE;UAClBM,aAAa,CAACd,KAAK;QACrB;MACF,CAAC,EAAE,EAAE;IACP;IAEAR,SAAS,CAAC,MAAM;MACdS,cAAc,CAAC;IACjB,CAAC;IAEDR,WAAW,CAAC,MAAM;MAChBqB,aAAa,CAACd,KAAK;IACrB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}