{"ast":null,"code":"import { ref, computed } from 'vue';\nexport default {\n  __name: 'PrizeWheel',\n  props: {\n    config: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const wheel = ref(null);\n    const rotation = ref(0);\n    const segmentAngle = computed(() => 360 / props.config.segments.length);\n    const spinWheel = () => {\n      // 随机转动角度，至少转 3 圈\n      const randomIndex = Math.floor(Math.random() * props.config.segments.length);\n      const randomAngle = 360 * 3 + randomIndex * segmentAngle.value + segmentAngle.value / 2;\n      rotation.value += randomAngle;\n    };\n    const __returned__ = {\n      props,\n      wheel,\n      rotation,\n      segmentAngle,\n      spinWheel,\n      ref,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","computed","props","__props","wheel","rotation","segmentAngle","config","segments","length","spinWheel","randomIndex","Math","floor","random","randomAngle","value"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/lotterydraw/PrizeWheel.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center justify-center space-y-6\">\n    <h2 class=\"text-2xl font-bold text-gradient bg-clip-text text-transparent\">\n      {{ config.title }}\n    </h2>\n\n    <div class=\"relative w-72 h-72\">\n      <!-- 转盘 -->\n      <div\n        ref=\"wheel\"\n        class=\"w-full h-full rounded-full border-8 border-yellow-400 shadow-2xl relative\"\n        :style=\"{ transform: `rotate(${rotation}deg)` }\"\n      >\n        <div\n          v-for=\"(item, i) in config.segments\"\n          :key=\"i\"\n          class=\"absolute w-1/2 h-1/2 top-0 left-1/2 origin-bottom-left flex items-center justify-center text-sm font-bold text-white\"\n          :style=\"{ transform: `rotate(${i * segmentAngle}deg)` }\"\n        >\n          {{ item.label }}\n        </div>\n      </div>\n\n      <!-- 指针 -->\n      <div class=\"absolute top-1/2 left-1/2 w-4 h-20 bg-red-500 -translate-x-1/2 -translate-y-full rounded-full shadow-lg\"></div>\n    </div>\n\n    <button\n      @click=\"spinWheel\"\n      class=\"mt-4 px-6 py-3 bg-gradient-to-r from-green-400 to-blue-500 text-black font-bold rounded-xl shadow-lg hover:scale-105 transition-transform\"\n    >\n      {{ config.buttonText }}\n    </button>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  config: {\n    type: Object,\n    required: true\n  }\n})\n\nconst wheel = ref(null)\nconst rotation = ref(0)\nconst segmentAngle = computed(() => 360 / props.config.segments.length)\n\nconst spinWheel = () => {\n  // 随机转动角度，至少转 3 圈\n  const randomIndex = Math.floor(Math.random() * props.config.segments.length)\n  const randomAngle = 360 * 3 + randomIndex * segmentAngle.value + segmentAngle.value / 2\n  rotation.value += randomAngle\n}\n</script>\n\n<style scoped>\n.text-gradient {\n  background: linear-gradient(90deg, #34d399, #3b82f6, #fbbf24);\n}\n</style>\n"],"mappings":"AAqCA,SAASA,GAAG,EAAEC,QAAQ,QAAQ,KAAI;;;;;;;;;;;;;IAElC,MAAMC,KAAK,GAAGC,OAAA;IAOd,MAAMC,KAAK,GAAGJ,GAAG,CAAC,IAAI;IACtB,MAAMK,QAAQ,GAAGL,GAAG,CAAC,CAAC;IACtB,MAAMM,YAAY,GAAGL,QAAQ,CAAC,MAAM,GAAG,GAAGC,KAAK,CAACK,MAAM,CAACC,QAAQ,CAACC,MAAM;IAEtE,MAAMC,SAAS,GAAGA,CAAA,KAAM;MACtB;MACA,MAAMC,WAAW,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGZ,KAAK,CAACK,MAAM,CAACC,QAAQ,CAACC,MAAM;MAC3E,MAAMM,WAAW,GAAG,GAAG,GAAG,CAAC,GAAGJ,WAAW,GAAGL,YAAY,CAACU,KAAK,GAAGV,YAAY,CAACU,KAAK,GAAG;MACtFX,QAAQ,CAACW,KAAK,IAAID,WAAU;IAC9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}