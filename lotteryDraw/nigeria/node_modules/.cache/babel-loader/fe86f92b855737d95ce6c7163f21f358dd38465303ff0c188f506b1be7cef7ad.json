{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"flip-digit relative h-20 sm:h-24 w-12 sm:w-16 perspective\"\n};\nconst _hoisted_2 = {\n  class: \"text-3xl sm:text-4xl font-bold text-black pb-1\"\n};\nconst _hoisted_3 = {\n  class: \"flip-card bottom-card absolute inset-x-0 bottom-0 h-1/2 overflow-hidden rounded-b-lg bg-white shadow-inner flex items-start justify-center\"\n};\nconst _hoisted_4 = {\n  class: \"text-3xl sm:text-4xl font-bold text-black pt-1\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  class: \"flip-card flipping-card absolute inset-x-0 top-0 h-1/2 overflow-hidden rounded-t-lg bg-white shadow-inner flex items-end justify-center transform origin-bottom\"\n};\nconst _hoisted_6 = {\n  class: \"text-3xl sm:text-4xl font-bold text-black pb-1\"\n};\nconst _hoisted_7 = {\n  class: \"absolute -bottom-5 left-1/2 -translate-x-1/2 whitespace-nowrap text-xs font-medium text-white\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 上半部分卡片（当前数字，翻转时上翻） \"), _createElementVNode(\"div\", {\n    class: _normalizeClass([{\n      'animate-flip-top': $setup.isChanging\n    }, \"flip-card top-card absolute inset-x-0 top-0 h-1/2 overflow-hidden rounded-t-lg bg-white shadow-inner flex items-end justify-center\"])\n  }, [_createElementVNode(\"span\", _hoisted_2, _toDisplayString($setup.currentValue), 1 /* TEXT */)], 2 /* CLASS */), _createCommentVNode(\" 下半部分卡片（当前数字，保持静止） \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"span\", _hoisted_4, _toDisplayString($setup.currentValue), 1 /* TEXT */)]), _createCommentVNode(\" 翻转中的上半部分（显示下一个数字，下翻动画） \"), $setup.isChanging ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"span\", _hoisted_6, _toDisplayString($setup.nextValue), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 时间单位标签（如“分”“秒”） \"), _createElementVNode(\"div\", _hoisted_7, _toDisplayString($props.label), 1 /* TEXT */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_normalizeClass","$setup","isChanging","_hoisted_2","_toDisplayString","currentValue","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","nextValue","_hoisted_7","$props","label"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/FlipDigit.vue"],"sourcesContent":["<template>\n  <div class=\"flip-digit relative h-20 sm:h-24 w-12 sm:w-16 perspective\">\n    <!-- 上半部分卡片（当前数字，翻转时上翻） -->\n    <div \n      :class=\"{ 'animate-flip-top': isChanging }\"\n      class=\"flip-card top-card absolute inset-x-0 top-0 h-1/2 overflow-hidden rounded-t-lg bg-white shadow-inner flex items-end justify-center\"\n    >\n      <span class=\"text-3xl sm:text-4xl font-bold text-black pb-1\">{{ currentValue }}</span>\n    </div>\n    \n    <!-- 下半部分卡片（当前数字，保持静止） -->\n    <div class=\"flip-card bottom-card absolute inset-x-0 bottom-0 h-1/2 overflow-hidden rounded-b-lg bg-white shadow-inner flex items-start justify-center\">\n      <span class=\"text-3xl sm:text-4xl font-bold text-black pt-1\">{{ currentValue }}</span>\n    </div>\n    \n    <!-- 翻转中的上半部分（显示下一个数字，下翻动画） -->\n    <div \n      v-if=\"isChanging\"\n      class=\"flip-card flipping-card absolute inset-x-0 top-0 h-1/2 overflow-hidden rounded-t-lg bg-white shadow-inner flex items-end justify-center transform origin-bottom\"\n    >\n      <span class=\"text-3xl sm:text-4xl font-bold text-black pb-1\">{{ nextValue }}</span>\n    </div>\n    \n    <!-- 时间单位标签（如“分”“秒”） -->\n    <div class=\"absolute -bottom-5 left-1/2 -translate-x-1/2 whitespace-nowrap text-xs font-medium text-white\">\n      {{ label }}\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, watch, defineEmits } from 'vue';\n\nconst props = defineProps(['value', 'label']);\nconst emit = defineEmits(['change', 'animation-end']);\n\nconst currentValue = ref(props.value);\nconst nextValue = ref(props.value);\nconst isChanging = ref(false);\n\n// 监测数字变化，触发翻转动画\nwatch(() => props.value, (newVal) => {\n  if (newVal !== currentValue.value) {\n    nextValue.value = newVal;\n    isChanging.value = true;\n    emit('change'); // 通知父组件“开始动画”\n    \n    // 动画结束后重置状态\n    setTimeout(() => {\n      currentValue.value = newVal;\n      isChanging.value = false;\n      emit('animation-end'); // 通知父组件“动画结束”\n    }, 500); // 与 CSS 动画时长一致\n  }\n});\n</script>\n\n<style scoped>\n.flip-card {\n  @apply transition-all duration-500 ease-in-out;\n}\n\n/* 上半卡片 向上翻转 90° 动画 */\n.animate-flip-top {\n  animation: flip-top 0.5s ease-in-out;\n}\n\n@keyframes flip-top {\n  0% {\n    transform: rotateX(0deg);\n    background-color: white;\n  }\n  50%, 100% {\n    transform: rotateX(-90deg);\n    background-color: #f5f5f5; /* 翻转动画中略带灰色 */\n  }\n}\n\n/* 翻转中卡片 向下翻转 90° 动画 */\n.flipping-card {\n  animation: flip-bottom 0.5s ease-in-out;\n}\n\n@keyframes flip-bottom {\n  0% {\n    transform: rotateX(90deg);\n    background-color: #f5f5f5;\n  }\n  50%, 100% {\n    transform: rotateX(0deg);\n    background-color: white;\n  }\n}\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAA2D;;EAM5DA,KAAK,EAAC;AAAgD;;EAIzDA,KAAK,EAAC;AAA4I;;EAC/IA,KAAK,EAAC;AAAgD;;;EAM5DA,KAAK,EAAC;;;EAEAA,KAAK,EAAC;AAAgD;;EAIzDA,KAAK,EAAC;AAA+F;;uBAvB5GC,mBAAA,CA0BM,OA1BNC,UA0BM,GAzBJC,mBAAA,wBAA2B,EAC3BC,mBAAA,CAKM;IAJHJ,KAAK,EAAAK,eAAA;MAAA,oBAAwBC,MAAA,CAAAC;IAAU,GAClC,oIAAoI;MAE1IH,mBAAA,CAAsF,QAAtFI,UAAsF,EAAAC,gBAAA,CAAtBH,MAAA,CAAAI,YAAY,iB,kBAG9EP,mBAAA,uBAA0B,EAC1BC,mBAAA,CAEM,OAFNO,UAEM,GADJP,mBAAA,CAAsF,QAAtFQ,UAAsF,EAAAH,gBAAA,CAAtBH,MAAA,CAAAI,YAAY,iB,GAG9EP,mBAAA,4BAA+B,EAEvBG,MAAA,CAAAC,UAAU,I,cADlBN,mBAAA,CAKM,OALNY,UAKM,GADJT,mBAAA,CAAmF,QAAnFU,UAAmF,EAAAL,gBAAA,CAAnBH,MAAA,CAAAS,SAAS,iB,wCAG3EZ,mBAAA,qBAAwB,EACxBC,mBAAA,CAEM,OAFNY,UAEM,EAAAP,gBAAA,CADDQ,MAAA,CAAAC,KAAK,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}