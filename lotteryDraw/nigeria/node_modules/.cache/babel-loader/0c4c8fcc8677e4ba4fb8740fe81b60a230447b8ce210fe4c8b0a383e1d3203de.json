{"ast":null,"code":"import { ref, onMounted, onUnmounted, computed } from 'vue';\nexport default {\n  __name: 'CountdownRing',\n  props: {\n    label: String,\n    totalDuration: Number,\n    labels: Object\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const seconds = ref(0);\n    let startTime, timer;\n    const circumference = 2 * Math.PI * 70;\n    const progress = computed(() => (60 - seconds.value) / 60 * circumference);\n    const update = () => {\n      const now = Date.now();\n      const elapsed = now - startTime;\n      const remaining = Math.max(props.totalDuration - elapsed, 0);\n      seconds.value = Math.floor(remaining / 1000 % 60);\n      if (remaining <= 0) clearInterval(timer);\n    };\n    onMounted(() => {\n      startTime = Date.now();\n      timer = setInterval(update, 200);\n    });\n    onUnmounted(() => clearInterval(timer));\n    const __returned__ = {\n      props,\n      seconds,\n      get startTime() {\n        return startTime;\n      },\n      set startTime(v) {\n        startTime = v;\n      },\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      circumference,\n      progress,\n      update,\n      ref,\n      onMounted,\n      onUnmounted,\n      computed\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","computed","props","__props","seconds","startTime","timer","circumference","Math","PI","progress","value","update","now","Date","elapsed","remaining","max","totalDuration","floor","clearInterval","setInterval"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/CountdownRing.vue"],"sourcesContent":["<!-- CountdownRing.vue -->\n<template>\n  <div class=\"flex flex-col items-center space-y-4 relative\">\n    <h2 class=\"text-xl font-bold animate-pulse bg-gradient-to-r from-pink-500 to-yellow-400 bg-clip-text text-transparent\">\n      {{ label }}\n    </h2>\n\n    <div class=\"relative w-40 h-40\">\n      <svg class=\"w-full h-full transform -rotate-90\">\n        <circle cx=\"80\" cy=\"80\" r=\"70\" stroke=\"#333\" stroke-width=\"12\" fill=\"none\" />\n        <circle\n            cx=\"80\" cy=\"80\" r=\"70\"\n            stroke=\"url(#gradient)\" stroke-width=\"12\" fill=\"none\"\n            :stroke-dasharray=\"circumference\"\n            :stroke-dashoffset=\"progress\"\n            stroke-linecap=\"round\"\n            class=\"transition-all duration-200 ease-linear\"\n        />\n        <defs>\n          <linearGradient id=\"gradient\" gradientTransform=\"rotate(90)\">\n            <stop offset=\"0%\" stop-color=\"#ff0080\"/>\n            <stop offset=\"100%\" stop-color=\"#7928ca\"/>\n          </linearGradient>\n        </defs>\n      </svg>\n\n      <div class=\"absolute inset-0 flex flex-col items-center justify-center text-white font-bold\">\n        <span class=\"text-3xl\">{{ seconds.toString().padStart(2, '0') }}</span>\n        <span class=\"text-xs opacity-70\">{{ labels.second }}</span>\n      </div>\n\n      <!-- 粒子闪光 -->\n      <div v-for=\"n in 10\" :key=\"n\" class=\"particle\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, computed } from 'vue';\n\nconst props = defineProps({\n  label: String,\n  totalDuration: Number,\n  labels: Object\n});\n\nconst seconds = ref(0);\nlet startTime, timer;\n\nconst circumference = 2 * Math.PI * 70;\nconst progress = computed(() => ((60 - seconds.value) / 60) * circumference);\n\nconst update = () => {\n  const now = Date.now();\n  const elapsed = now - startTime;\n  const remaining = Math.max(props.totalDuration - elapsed, 0);\n\n  seconds.value = Math.floor((remaining / 1000) % 60);\n\n  if (remaining <= 0) clearInterval(timer);\n};\n\nonMounted(() => {\n  startTime = Date.now();\n  timer = setInterval(update, 200);\n});\nonUnmounted(() => clearInterval(timer));\n</script>\n\n<style scoped>\n.particle {\n  position: absolute;\n  width: 6px;\n  height: 6px;\n  background: radial-gradient(circle, #fff, transparent);\n  border-radius: 50%;\n  top: 50%;\n  left: 50%;\n  animation: sparkle 2s infinite ease-in-out;\n}\n.particle:nth-child(odd) { animation-delay: 0.5s; }\n.particle:nth-child(even) { animation-delay: 1s; }\n\n@keyframes sparkle {\n  0% { transform: translate(0, 0) scale(0.5); opacity: 1; }\n  50% { transform: translate(40px, -30px) scale(1.2); opacity: 0.6; }\n  100% { transform: translate(0, 0) scale(0.5); opacity: 0; }\n}\n</style>\n"],"mappings":"AAsCA,SAASA,GAAG,EAAEC,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,KAAK;;;;;;;;;;;;IAE3D,MAAMC,KAAK,GAAGC,OAIZ;IAEF,MAAMC,OAAO,GAAGN,GAAG,CAAC,CAAC,CAAC;IACtB,IAAIO,SAAS,EAAEC,KAAK;IAEpB,MAAMC,aAAa,GAAG,CAAC,GAAGC,IAAI,CAACC,EAAE,GAAG,EAAE;IACtC,MAAMC,QAAQ,GAAGT,QAAQ,CAAC,MAAO,CAAC,EAAE,GAAGG,OAAO,CAACO,KAAK,IAAI,EAAE,GAAIJ,aAAa,CAAC;IAE5E,MAAMK,MAAM,GAAGA,CAAA,KAAM;MACnB,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;MACtB,MAAME,OAAO,GAAGF,GAAG,GAAGR,SAAS;MAC/B,MAAMW,SAAS,GAAGR,IAAI,CAACS,GAAG,CAACf,KAAK,CAACgB,aAAa,GAAGH,OAAO,EAAE,CAAC,CAAC;MAE5DX,OAAO,CAACO,KAAK,GAAGH,IAAI,CAACW,KAAK,CAAEH,SAAS,GAAG,IAAI,GAAI,EAAE,CAAC;MAEnD,IAAIA,SAAS,IAAI,CAAC,EAAEI,aAAa,CAACd,KAAK,CAAC;IAC1C,CAAC;IAEDP,SAAS,CAAC,MAAM;MACdM,SAAS,GAAGS,IAAI,CAACD,GAAG,CAAC,CAAC;MACtBP,KAAK,GAAGe,WAAW,CAACT,MAAM,EAAE,GAAG,CAAC;IAClC,CAAC,CAAC;IACFZ,WAAW,CAAC,MAAMoB,aAAa,CAACd,KAAK,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}