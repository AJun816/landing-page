{"ast":null,"code":"import { reactive, onMounted, onUnmounted } from 'vue';\nexport default {\n  __name: 'CircularCountdown',\n  props: {\n    config: Object\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const time = reactive({\n      minutes: 0,\n      seconds: 0,\n      milliseconds: 0\n    });\n    let timer;\n    const start = () => {\n      const end = Date.now() + props.config.totalDuration;\n      timer = setInterval(() => {\n        const remain = Math.max(0, end - Date.now());\n        time.minutes = Math.floor(remain / 60000);\n        time.seconds = Math.floor(remain / 1000 % 60);\n        time.milliseconds = remain % 1000;\n        if (remain <= 0) clearInterval(timer);\n      }, 50);\n    };\n    onMounted(start);\n    onUnmounted(() => clearInterval(timer));\n    const __returned__ = {\n      props,\n      time,\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      start,\n      reactive,\n      onMounted,\n      onUnmounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","onMounted","onUnmounted","props","__props","time","minutes","seconds","milliseconds","timer","start","end","Date","now","config","totalDuration","setInterval","remain","Math","max","floor","clearInterval"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/CircularCountdown.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center space-y-8 bg-gradient-to-b from-gray-900 to-gray-800 p-8 rounded-2xl shadow-[0_10px_50px_rgba(0,30,84,0.3)] border border-blue-900/30 max-w-md mx-auto\">\n    <!-- 标题：金属质感+微妙动画 -->\n    <h1 class=\"text-2xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-blue-200 to-amber-200 tracking-wide relative\">\n      {{ config.label }}\n      <span class=\"absolute -inset-1 bg-gradient-to-r from-blue-600/20 to-amber-500/20 rounded-lg blur opacity-30\"></span>\n    </h1>\n    \n    <div class=\"relative w-64 h-64\">\n      <!-- 外环光晕 -->\n      <div class=\"absolute inset-[-10px] rounded-full bg-gradient-to-r from-blue-600/10 to-amber-500/10 blur-3xl\"></div>\n      \n      <!-- 分钟环 - 深蓝色主调 -->\n      <svg class=\"absolute inset-0 w-full h-full\" viewBox=\"0 0 100 100\">\n        <circle cx=\"50\" cy=\"50\" r=\"45\" stroke=\"#1a202c\" stroke-width=\"6\" fill=\"none\"/>\n        <circle\n          cx=\"50\" cy=\"50\" r=\"45\"\n          stroke=\"url(#minuteGradient)\"\n          stroke-width=\"6\"\n          stroke-linecap=\"round\"\n          fill=\"none\"\n          stroke-dasharray=\"283\"\n          :stroke-dashoffset=\"283 - (time.minutes/60*283)\"\n          class=\"transition-all duration-300 ease-in-out\"\n        />\n      </svg>\n      \n      <!-- 秒环 - 蓝金过渡 -->\n      <svg class=\"absolute inset-2 w-[92%] h-[92%]\" viewBox=\"0 0 100 100\">\n        <circle cx=\"50\" cy=\"50\" r=\"40\" stroke=\"#1a202c\" stroke-width=\"6\" fill=\"none\"/>\n        <circle\n          cx=\"50\" cy=\"50\" r=\"40\"\n          stroke=\"url(#secondGradient)\"\n          stroke-width=\"6\"\n          stroke-linecap=\"round\"\n          fill=\"none\"\n          stroke-dasharray=\"251\"\n          :stroke-dashoffset=\"251 - (time.seconds/60*251)\"\n          class=\"transition-all duration-300 ease-in-out\"\n        />\n      </svg>\n      \n      <!-- 毫秒环 - 金色点缀 -->\n      <svg class=\"absolute inset-6 w-[76%] h-[76%]\" viewBox=\"0 0 100 100\">\n        <circle cx=\"50\" cy=\"50\" r=\"32\" stroke=\"#1a202c\" stroke-width=\"6\" fill=\"none\"/>\n        <circle\n          cx=\"50\" cy=\"50\" r=\"32\"\n          stroke=\"url(#millisecondGradient)\"\n          stroke-width=\"6\"\n          stroke-linecap=\"round\"\n          fill=\"none\"\n          stroke-dasharray=\"201\"\n          :stroke-dashoffset=\"201 - (time.milliseconds/1000*201)\"\n          class=\"transition-all duration-200 ease-in-out\"\n        />\n      </svg>\n      \n      <!-- 中心数字 - 金属质感 -->\n      <div class=\"absolute inset-0 flex flex-col items-center justify-center text-center\">\n        <div class=\"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-200 to-amber-200 drop-shadow-[0_0_6px_rgba(59,94,254,0.3)]\">\n          {{ String(time.minutes).padStart(2, '0') }}:{{ String(time.seconds).padStart(2, '0') }}\n        </div>\n        <div class=\"text-lg text-blue-300/80 drop-shadow-[0_0_3px_rgba(59,94,254,0.2)] mt-1\">\n          {{ String(time.milliseconds).padStart(3, '0') }} {{ config.labels.millisecond }}\n        </div>\n      </div>\n      \n      <!-- 商业质感网格背景 -->\n      <div class=\"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxwYXR0ZXJuIGlkPSJncmlkIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiPjxwYXRoIGQ9Ik0gNDAgMEwgLTIwIDAgMCA0MEwgLTIwIDAgMCAwIiBzdHJva2U9IiMyMDI5NDUiIHN0cm9rZS13aWR0aD0iMC41Ii8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMjAyOTQ1IiBzdHJva2Utd2lkdGg9IjAuNSIvPjwvc3ZnPg==')] opacity-20\"></div>\n      \n      <!-- 精致刻度点 -->\n      <div v-for=\"i in 12\" :key=\"i\" class=\"absolute w-1.5 h-1.5 rounded-full transition-all duration-500\" \n           :class=\"{\n             'bg-blue-400/60': i % 3 === 0,\n             'bg-blue-500/30': i % 3 !== 0\n           }\"\n           :style=\"{ \n             left: `${50 + 48 * Math.cos(2 * Math.PI * i / 12 - Math.PI/2)}%`,\n             top: `${50 + 48 * Math.sin(2 * Math.PI * i / 12 - Math.PI/2)}%`,\n             transform: `scale(${i % 3 === 0 ? 1.2 : 0.8})`\n           }\"></div>\n      \n      <!-- 渐变定义 - 商业感配色 -->\n      <defs>\n        <linearGradient id=\"minuteGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"100%\">\n          <stop offset=\"0%\" stop-color=\"#1e40af\" stop-opacity=\"1\" />\n          <stop offset=\"100%\" stop-color=\"#3b5efc\" stop-opacity=\"1\" />\n        </linearGradient>\n        <linearGradient id=\"secondGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stop-color=\"#3b5efc\" stop-opacity=\"1\" />\n          <stop offset=\"100%\" stop-color=\"#f59e0b\" stop-opacity=\"0.8\" />\n        </linearGradient>\n        <linearGradient id=\"millisecondGradient\" x1=\"0%\" y1=\"100%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stop-color=\"#f59e0b\" stop-opacity=\"0.8\" />\n          <stop offset=\"100%\" stop-color=\"#3b5efc\" stop-opacity=\"1\" />\n        </linearGradient>\n      </defs>\n    </div>\n    \n    <!-- 底部进度条 - 增强商业信任感 -->\n    <div class=\"w-full h-1.5 bg-gray-800/80 rounded-full overflow-hidden shadow-inner\">\n      <div \n        class=\"h-full bg-gradient-to-r from-blue-600 to-amber-500 transition-all duration-500 ease-out\"\n        :style=\"{ width: (time.minutes*60 + time.seconds) / (props.config.totalDuration/1000) * 100 + '%' }\"\n      ></div>\n    </div>\n    \n    <!-- 商业标签 -->\n    <div class=\"text-xs text-blue-300/60 uppercase tracking-wider mt-2\">\n      限时优惠 · 专属权益\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { reactive, onMounted, onUnmounted } from 'vue'\nconst props = defineProps({ config: Object })\nconst time = reactive({ minutes: 0, seconds: 0, milliseconds: 0 })\nlet timer\n\nconst start = () => {\n  const end = Date.now() + props.config.totalDuration\n  timer = setInterval(() => {\n    const remain = Math.max(0, end - Date.now())\n    time.minutes = Math.floor(remain / 60000)\n    time.seconds = Math.floor((remain / 1000) % 60)\n    time.milliseconds = remain % 1000\n    if (remain <= 0) clearInterval(timer)\n  }, 50)\n}\nonMounted(start)\nonUnmounted(() => clearInterval(timer))\n</script>\n\n<style scoped>\n/* 数字变化时的微动画 */\n.text-5xl {\n  transition: all 0.15s ease-out;\n}\n\n/* 圆环精致光效 */\ncircle {\n  transform: rotate(-90deg);\n  transform-origin: 50% 50%;\n  filter: drop-shadow(0 0 2px rgba(59, 94, 252, 0.4));\n}\n\n/* 毫秒环精细脉动 */\nsvg:nth-child(4) circle:last-child {\n  animation: subtlePulse 1.5s infinite alternate;\n}\n\n@keyframes subtlePulse {\n  from { filter: drop-shadow(0 0 2px rgba(245, 158, 11, 0.3)); }\n  to { filter: drop-shadow(0 0 4px rgba(245, 158, 11, 0.5)); }\n}\n\n/* 标题悬浮光效 */\nh1 {\n  animation: titleFloat 6s ease-in-out infinite;\n}\n\n@keyframes titleFloat {\n  0%, 100% { transform: translateY(0); }\n  50% { transform: translateY(-3px); }\n}\n</style>\n"],"mappings":"AAmHA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,KAAI;;;;;;;;;;IACrD,MAAMC,KAAK,GAAGC,OAAA;IACd,MAAMC,IAAI,GAAGL,QAAQ,CAAC;MAAEM,OAAO,EAAE,CAAC;MAAEC,OAAO,EAAE,CAAC;MAAEC,YAAY,EAAE;IAAE,CAAC;IACjE,IAAIC,KAAI;IAER,MAAMC,KAAK,GAAGA,CAAA,KAAM;MAClB,MAAMC,GAAG,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGV,KAAK,CAACW,MAAM,CAACC,aAAY;MAClDN,KAAK,GAAGO,WAAW,CAAC,MAAM;QACxB,MAAMC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAER,GAAG,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;QAC3CR,IAAI,CAACC,OAAO,GAAGY,IAAI,CAACE,KAAK,CAACH,MAAM,GAAG,KAAK;QACxCZ,IAAI,CAACE,OAAO,GAAGW,IAAI,CAACE,KAAK,CAAEH,MAAM,GAAG,IAAI,GAAI,EAAE;QAC9CZ,IAAI,CAACG,YAAY,GAAGS,MAAM,GAAG,IAAG;QAChC,IAAIA,MAAM,IAAI,CAAC,EAAEI,aAAa,CAACZ,KAAK;MACtC,CAAC,EAAE,EAAE;IACP;IACAR,SAAS,CAACS,KAAK;IACfR,WAAW,CAAC,MAAMmB,aAAa,CAACZ,KAAK,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}