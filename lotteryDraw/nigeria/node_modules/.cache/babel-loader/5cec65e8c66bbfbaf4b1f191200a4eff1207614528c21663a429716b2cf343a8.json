{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"relative z-10 min-h-screen flex flex-col items-center justify-center p-4 max-w-4xl mx-auto\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" 背景组件 \"), _createVNode($setup[\"Background\"], {\n    \"background-image\": $setup.config.background.imageUrl,\n    \"overlay-color\": $setup.config.background.overlayColor,\n    \"overlay-opacity\": $setup.config.background.overlayOpacity\n  }, null, 8 /* PROPS */, [\"background-image\", \"overlay-color\", \"overlay-opacity\"]), _createCommentVNode(\" 主内容容器 \"), _createElementVNode(\"main\", _hoisted_1, [_createCommentVNode(\" 内容组件 \"), _createVNode($setup[\"Content\"], {\n    \"logo-url\": $setup.config.logo.url,\n    \"logo-alt\": $setup.config.logo.alt,\n    title: $setup.config.content.title,\n    subtitle: $setup.config.content.subtitle,\n    description: $setup.config.content.description,\n    \"bullet-points\": $setup.config.content.bulletPoints,\n    \"cta-button-text\": $setup.config.content.ctaButton.text,\n    \"cta-button-url\": $setup.config.content.ctaButton.url,\n    onCtaClick: $setup.handleCtaClick\n  }, {\n    \"after-subtitle\": _withCtx(() => [_createVNode($setup[\"LEDCountdown\"], {\n      config: $setup.config.countdown\n    }, null, 8 /* PROPS */, [\"config\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"logo-url\", \"logo-alt\", \"title\", \"subtitle\", \"description\", \"bullet-points\", \"cta-button-text\", \"cta-button-url\"])]), _createCommentVNode(\" 退出确认组件 \"), _createVNode($setup[\"ExitConfirm\"], {\n    \"show-modal\": $setup.showExitConfirmModal,\n    title: $setup.config.exitConfirm.title,\n    message: $setup.config.exitConfirm.message,\n    \"stay-button-text\": $setup.config.exitConfirm.stayButtonText,\n    \"leave-button-text\": $setup.config.exitConfirm.leaveButtonText,\n    onStay: $setup.handleStay,\n    onLeave: $setup.handleLeave\n  }, null, 8 /* PROPS */, [\"show-modal\", \"title\", \"message\", \"stay-button-text\", \"leave-button-text\"]), _createCommentVNode(\" 自动重定向组件 \"), _createVNode($setup[\"Redirect\"], {\n    ref: \"redirectComponent\",\n    \"target-url\": $setup.config.redirect.targetUrl,\n    \"countdown-seconds\": $setup.config.redirect.countdownSeconds,\n    message: $setup.config.redirect.message,\n    \"seconds-label\": $setup.config.redirect.secondsLabel,\n    \"allow-skip\": $setup.config.redirect.allowSkip,\n    \"skip-button-text\": $setup.config.redirect.skipButtonText,\n    onSkip: $setup.handleRedirectSkip,\n    onAutoRedirect: _ctx.handleAutoRedirect\n  }, null, 8 /* PROPS */, [\"target-url\", \"countdown-seconds\", \"message\", \"seconds-label\", \"allow-skip\", \"skip-button-text\", \"onAutoRedirect\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createCommentVNode","_createVNode","$setup","config","background","imageUrl","overlayColor","overlayOpacity","_createElementVNode","_hoisted_1","logo","url","alt","title","content","subtitle","description","bulletPoints","ctaButton","text","onCtaClick","handleCtaClick","_withCtx","countdown","showExitConfirmModal","exitConfirm","message","stayButtonText","leaveButtonText","onStay","handleStay","onLeave","handleLeave","ref","redirect","targetUrl","countdownSeconds","secondsLabel","allowSkip","skipButtonText","onSkip","handleRedirectSkip","onAutoRedirect","_ctx","handleAutoRedirect"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/App.vue"],"sourcesContent":["<template>\n  <!-- 背景组件 -->\n  <Background :background-image=\"config.background.imageUrl\" :overlay-color=\"config.background.overlayColor\"\n    :overlay-opacity=\"config.background.overlayOpacity\" />\n\n  <!-- 主内容容器 -->\n  <main class=\"relative z-10 min-h-screen flex flex-col items-center justify-center p-4 max-w-4xl mx-auto\">\n    <!-- 内容组件 -->\n    <Content :logo-url=\"config.logo.url\" :logo-alt=\"config.logo.alt\" :title=\"config.content.title\"\n      :subtitle=\"config.content.subtitle\" :description=\"config.content.description\"\n      :bullet-points=\"config.content.bulletPoints\" :cta-button-text=\"config.content.ctaButton.text\"\n      :cta-button-url=\"config.content.ctaButton.url\" @cta-click=\"handleCtaClick\">\n      <template v-slot:after-subtitle>\n      <LEDCountdown :config=\"config.countdown\"/>\n      </template>\n    </Content>\n  </main>\n  <!-- 退出确认组件 -->\n  <ExitConfirm :show-modal=\"showExitConfirmModal\" :title=\"config.exitConfirm.title\" :message=\"config.exitConfirm.message\"\n    :stay-button-text=\"config.exitConfirm.stayButtonText\" :leave-button-text=\"config.exitConfirm.leaveButtonText\"\n    @stay=\"handleStay\" @leave=\"handleLeave\" />\n\n  <!-- 自动重定向组件 -->\n  <Redirect ref=\"redirectComponent\" :target-url=\"config.redirect.targetUrl\"\n    :countdown-seconds=\"config.redirect.countdownSeconds\" :message=\"config.redirect.message\"\n    :seconds-label=\"config.redirect.secondsLabel\" :allow-skip=\"config.redirect.allowSkip\"\n    :skip-button-text=\"config.redirect.skipButtonText\" @skip=\"handleRedirectSkip\" @auto-redirect=\"handleAutoRedirect\" />\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\nimport Background from './components/background/BackgroundDefault.vue';\nimport Content from './components/content/ContentDefault.vue';\nimport ExitConfirm from './components/exitconfirm/ExitConfirmDefault.vue';\nimport Redirect from './components/redirect/RedirectDefault.vue';\nimport config from '/landing.config.js';\nimport LEDCountdown from './components/countdown/LEDCountdown.vue';\n\n// 重定向组件引用\nconst redirectComponent = ref(null);\n\n// 退出确认弹窗状态\nconst showExitConfirmModal = ref(false);\n\n// 处理CTA按钮点击\nconst handleCtaClick = () => {\n  // 移除beforeunload事件监听器，确保点击按钮时不会显示退出确认弹窗\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n  \n  // 点击按钮时立即重定向\n  if (redirectComponent.value) {\n    redirectComponent.value.skipCountdown();\n  }\n};\n\n// 处理重定向组件的skip事件\nconst handleRedirectSkip = () => {\n  // 移除beforeunload事件监听器，确保点击skip按钮时不会显示浏览器默认的离开确认弹窗\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n};\n\n// 处理用户选择留下\nconst handleStay = () => {\n  showExitConfirmModal.value = false;\n  console.log('User chose to stay');\n  // 可以添加留下后的逻辑，如显示额外优惠等\n};\n\n// 处理用户选择离开\nconst handleLeave = () => {\n  showExitConfirmModal.value = false;\n  console.log('User chose to leave');\n  // 用户明确选择离开后允许页面跳转\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n};\n\n// 处理页面离开前事件\nconst handleBeforeUnload = (e) => {\n  e.preventDefault();\n  showExitConfirmModal.value = true;\n  // Chrome需要返回一个值\n  e.returnValue = '';\n};\n\nonMounted(() => {\n  // 监听页面离开前事件\n  window.addEventListener('beforeunload', handleBeforeUnload);\n});\n\nonUnmounted(() => {\n  // 清理事件监听\n  window.removeEventListener('beforeunload', handleBeforeUnload);\n});\n</script>\n\n<style>\n/* 全局样式 */\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n/* 自定义工具类 */\n@layer utilities {\n  .text-shadow-lg {\n    text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);\n  }\n\n  .animate-pop-in {\n    animation: popIn 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);\n  }\n}\n\n/* 全局动画定义 */\n@keyframes popIn {\n  0% {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 1;\n  }\n}\n\n/* 基础样式重置 */\nbody {\n  @apply font-sans;\n}\n</style>\n"],"mappings":";;EAMQA,KAAK,EAAC;AAA4F;;6DALxGC,mBAAA,UAAa,EACbC,YAAA,CACwDC,MAAA;IAD3C,kBAAgB,EAAEA,MAAA,CAAAC,MAAM,CAACC,UAAU,CAACC,QAAQ;IAAG,eAAa,EAAEH,MAAA,CAAAC,MAAM,CAACC,UAAU,CAACE,YAAY;IACtG,iBAAe,EAAEJ,MAAA,CAAAC,MAAM,CAACC,UAAU,CAACG;qFAEtCP,mBAAA,WAAc,EACdQ,mBAAA,CAUO,QAVPC,UAUO,GATLT,mBAAA,UAAa,EACbC,YAAA,CAOUC,MAAA;IAPA,UAAQ,EAAEA,MAAA,CAAAC,MAAM,CAACO,IAAI,CAACC,GAAG;IAAG,UAAQ,EAAET,MAAA,CAAAC,MAAM,CAACO,IAAI,CAACE,GAAG;IAAGC,KAAK,EAAEX,MAAA,CAAAC,MAAM,CAACW,OAAO,CAACD,KAAK;IAC1FE,QAAQ,EAAEb,MAAA,CAAAC,MAAM,CAACW,OAAO,CAACC,QAAQ;IAAGC,WAAW,EAAEd,MAAA,CAAAC,MAAM,CAACW,OAAO,CAACE,WAAW;IAC3E,eAAa,EAAEd,MAAA,CAAAC,MAAM,CAACW,OAAO,CAACG,YAAY;IAAG,iBAAe,EAAEf,MAAA,CAAAC,MAAM,CAACW,OAAO,CAACI,SAAS,CAACC,IAAI;IAC3F,gBAAc,EAAEjB,MAAA,CAAAC,MAAM,CAACW,OAAO,CAACI,SAAS,CAACP,GAAG;IAAGS,UAAS,EAAElB,MAAA,CAAAmB;;IAC1C,gBAAc,EAAAC,QAAA,CAC/B,MAA0C,CAA1CrB,YAAA,CAA0CC,MAAA;MAA3BC,MAAM,EAAED,MAAA,CAAAC,MAAM,CAACoB;;;2IAIlCvB,mBAAA,YAAe,EACfC,YAAA,CAE4CC,MAAA;IAF9B,YAAU,EAAEA,MAAA,CAAAsB,oBAAoB;IAAGX,KAAK,EAAEX,MAAA,CAAAC,MAAM,CAACsB,WAAW,CAACZ,KAAK;IAAGa,OAAO,EAAExB,MAAA,CAAAC,MAAM,CAACsB,WAAW,CAACC,OAAO;IACnH,kBAAgB,EAAExB,MAAA,CAAAC,MAAM,CAACsB,WAAW,CAACE,cAAc;IAAG,mBAAiB,EAAEzB,MAAA,CAAAC,MAAM,CAACsB,WAAW,CAACG,eAAe;IAC3GC,MAAI,EAAE3B,MAAA,CAAA4B,UAAU;IAAGC,OAAK,EAAE7B,MAAA,CAAA8B;wGAE7BhC,mBAAA,aAAgB,EAChBC,YAAA,CAGsHC,MAAA;IAH5G+B,GAAG,EAAC,mBAAmB;IAAE,YAAU,EAAE/B,MAAA,CAAAC,MAAM,CAAC+B,QAAQ,CAACC,SAAS;IACrE,mBAAiB,EAAEjC,MAAA,CAAAC,MAAM,CAAC+B,QAAQ,CAACE,gBAAgB;IAAGV,OAAO,EAAExB,MAAA,CAAAC,MAAM,CAAC+B,QAAQ,CAACR,OAAO;IACtF,eAAa,EAAExB,MAAA,CAAAC,MAAM,CAAC+B,QAAQ,CAACG,YAAY;IAAG,YAAU,EAAEnC,MAAA,CAAAC,MAAM,CAAC+B,QAAQ,CAACI,SAAS;IACnF,kBAAgB,EAAEpC,MAAA,CAAAC,MAAM,CAAC+B,QAAQ,CAACK,cAAc;IAAGC,MAAI,EAAEtC,MAAA,CAAAuC,kBAAkB;IAAGC,cAAa,EAAEC,IAAA,CAAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}