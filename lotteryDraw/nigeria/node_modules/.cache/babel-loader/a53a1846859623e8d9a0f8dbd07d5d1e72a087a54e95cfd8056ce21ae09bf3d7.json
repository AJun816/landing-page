{"ast":null,"code":"import { ref, onMounted, onUnmounted, watch } from 'vue';\nexport default {\n  __name: 'Countdown3D',\n  props: {\n    label: {\n      type: String,\n      required: true\n    },\n    totalDuration: {\n      type: Number,\n      required: true\n    },\n    labels: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const props = __props;\n    const minutes = ref(0);\n    const seconds = ref(0);\n    const milliseconds = ref(0);\n    let startTime, timer;\n    let prevMinutes = 0;\n    let prevSeconds = 0;\n    let prevMilliseconds = 0;\n    const updateCountdown = () => {\n      const now = new Date().getTime();\n      const elapsed = now - startTime;\n      const remaining = Math.max(props.totalDuration - elapsed, 0);\n      const newMinutes = Math.floor(remaining / 1000 / 60 % 60);\n      const newSeconds = Math.floor(remaining / 1000 % 60);\n      const newMilliseconds = Math.floor(remaining % 1000);\n      if (newMinutes !== prevMinutes) {\n        minutes.value = newMinutes;\n        prevMinutes = newMinutes;\n        document.querySelector('.led-digit')?.classList.add('digit-update');\n        setTimeout(() => {\n          document.querySelector('.led-digit')?.classList.remove('digit-update');\n        }, 300);\n      }\n      if (newSeconds !== prevSeconds) {\n        seconds.value = newSeconds;\n        prevSeconds = newSeconds;\n        document.querySelector('.led-digit')?.classList.add('digit-update');\n        setTimeout(() => {\n          document.querySelector('.led-digit')?.classList.remove('digit-update');\n        }, 300);\n      }\n      if (newMilliseconds !== prevMilliseconds) {\n        milliseconds.value = newMilliseconds;\n        prevMilliseconds = newMilliseconds;\n        document.querySelector('.led-digit')?.classList.add('digit-update');\n        setTimeout(() => {\n          document.querySelector('.led-digit')?.classList.remove('digit-update');\n        }, 100);\n      }\n      if (remaining <= 0) clearInterval(timer);\n    };\n    onMounted(() => {\n      startTime = new Date().getTime();\n      timer = setInterval(updateCountdown, 50);\n      prevMinutes = minutes.value;\n      prevSeconds = seconds.value;\n      prevMilliseconds = milliseconds.value;\n    });\n    onUnmounted(() => {\n      clearInterval(timer);\n    });\n    const __returned__ = {\n      props,\n      minutes,\n      seconds,\n      milliseconds,\n      get startTime() {\n        return startTime;\n      },\n      set startTime(v) {\n        startTime = v;\n      },\n      get timer() {\n        return timer;\n      },\n      set timer(v) {\n        timer = v;\n      },\n      get prevMinutes() {\n        return prevMinutes;\n      },\n      set prevMinutes(v) {\n        prevMinutes = v;\n      },\n      get prevSeconds() {\n        return prevSeconds;\n      },\n      set prevSeconds(v) {\n        prevSeconds = v;\n      },\n      get prevMilliseconds() {\n        return prevMilliseconds;\n      },\n      set prevMilliseconds(v) {\n        prevMilliseconds = v;\n      },\n      updateCountdown,\n      ref,\n      onMounted,\n      onUnmounted,\n      watch\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","onMounted","onUnmounted","watch","props","__props","minutes","seconds","milliseconds","startTime","timer","prevMinutes","prevSeconds","prevMilliseconds","updateCountdown","now","Date","getTime","elapsed","remaining","Math","max","totalDuration","newMinutes","floor","newSeconds","newMilliseconds","value","document","querySelector","classList","add","setTimeout","remove","clearInterval","setInterval"],"sources":["/Users/ajun/projects/github/landing-page/lotteryDraw/nigeria/src/components/countdown/Countdown3D.vue"],"sourcesContent":["<template>\n  <div class=\"flex flex-col items-center space-y-6\">\n    <!-- 标题 -->\n    <p class=\"text-2xl md:text-3xl font-extrabold tracking-widest\">\n      {{ label }}\n    </p>\n\n    <!-- 倒计时容器 -->\n    <div class=\"flex items-center space-x-3 md:space-x-6\">\n      <!-- 分钟 -->\n      <div class=\"led-digit-container\">\n        <div class=\"led-digit-box\">\n          <span class=\"led-digit\">\n            {{ minutes.toString().padStart(2, '0') }}\n          </span>\n        </div>\n        <span class=\"led-label\">{{ labels.minute }}</span>\n      </div>\n\n      <span class=\"led-separator\">:</span>\n\n      <!-- 秒 -->\n      <div class=\"led-digit-container\">\n        <div class=\"led-digit-box\">\n          <span class=\"led-digit\">\n            {{ seconds.toString().padStart(2, '0') }}\n          </span>\n        </div>\n        <span class=\"led-label\">{{ labels.second }}</span>\n      </div>\n\n      <span class=\"led-separator\">:</span>\n\n      <!-- 毫秒 -->\n      <div class=\"led-digit-container\">\n        <div class=\"led-digit-box led-digit-box-wide\">\n          <span class=\"led-digit\">\n            {{ milliseconds.toString().padStart(3, '0') }}\n          </span>\n        </div>\n        <span class=\"led-label\">{{ labels.millisecond }}</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted, watch } from 'vue';\n\nconst props = defineProps({\n  label: { type: String, required: true },\n  totalDuration: { type: Number, required: true },\n  labels: { type: Object, required: true }\n});\n\nconst minutes = ref(0);\nconst seconds = ref(0);\nconst milliseconds = ref(0);\n\nlet startTime, timer;\nlet prevMinutes = 0;\nlet prevSeconds = 0;\nlet prevMilliseconds = 0;\n\nconst updateCountdown = () => {\n  const now = new Date().getTime();\n  const elapsed = now - startTime;\n  const remaining = Math.max(props.totalDuration - elapsed, 0);\n\n  const newMinutes = Math.floor((remaining / 1000 / 60) % 60);\n  const newSeconds = Math.floor((remaining / 1000) % 60);\n  const newMilliseconds = Math.floor(remaining % 1000);\n\n  if (newMinutes !== prevMinutes) {\n    minutes.value = newMinutes;\n    prevMinutes = newMinutes;\n    document.querySelector('.led-digit')?.classList.add('digit-update');\n    setTimeout(() => {\n      document.querySelector('.led-digit')?.classList.remove('digit-update');\n    }, 300);\n  }\n\n  if (newSeconds !== prevSeconds) {\n    seconds.value = newSeconds;\n    prevSeconds = newSeconds;\n    document.querySelector('.led-digit')?.classList.add('digit-update');\n    setTimeout(() => {\n      document.querySelector('.led-digit')?.classList.remove('digit-update');\n    }, 300);\n  }\n\n  if (newMilliseconds !== prevMilliseconds) {\n    milliseconds.value = newMilliseconds;\n    prevMilliseconds = newMilliseconds;\n    document.querySelector('.led-digit')?.classList.add('digit-update');\n    setTimeout(() => {\n      document.querySelector('.led-digit')?.classList.remove('digit-update');\n    }, 100);\n  }\n\n  if (remaining <= 0) clearInterval(timer);\n};\n\nonMounted(() => {\n  startTime = new Date().getTime();\n  timer = setInterval(updateCountdown, 50);\n  prevMinutes = minutes.value;\n  prevSeconds = seconds.value;\n  prevMilliseconds = milliseconds.value;\n});\n\nonUnmounted(() => {\n  clearInterval(timer);\n});\n</script>\n\n<style scoped>\n/* LED 点阵风格主题变量 */\n:root {\n  --led-color: #FFCC00;\n  --led-off-color: rgba(255, 204, 0, 0.05);\n  --led-glow: rgba(255, 204, 0, 0.7);\n  --led-background: #000000;\n  --led-dot-size: 3px;\n  --led-dot-spacing: 2px;\n}\n\n/* 主容器背景 */\n.flex {\n  background-color: var(--led-background);\n  padding: 20px;\n  border-radius: 15px;\n  color: var(--led-color);\n}\n\n/* 标题样式 */\n.text-2xl {\n  color: var(--led-color);\n  text-shadow: 0 0 10px var(--led-glow);\n  font-family: 'Courier New', monospace;\n  letter-spacing: 4px;\n}\n\n/* LED 数字容器 */\n.led-digit-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n}\n\n/* LED 数字显示框 */\n.led-digit-box {\n  background-color: var(--led-background);\n  border-radius: 4px;\n  padding: 12px 8px;\n  position: relative;\n  display: inline-block;\n  min-width: 80px;\n}\n\n/* 毫秒数字框稍宽 */\n.led-digit-box-wide {\n  min-width: 120px;\n}\n\n/* LED 数字样式 - 关键点阵效果 */\n.led-digit {\n  font-family: 'Courier New', monospace;\n  font-weight: bold;\n  font-size: 3rem;\n  letter-spacing: 8px;\n  text-shadow: 0 0 10px var(--led-glow);\n  background-image: \n    radial-gradient(circle, var(--led-color) var(--led-dot-size), transparent var(--led-dot-size)),\n    radial-gradient(circle, var(--led-color) var(--led-dot-size), transparent var(--led-dot-size)),\n    radial-gradient(circle, var(--led-color) var(--led-dot-size), transparent var(--led-dot-size)),\n    radial-gradient(circle, var(--led-color) var(--led-dot-size), transparent var(--led-dot-size));\n  background-size: calc(var(--led-dot-size) * 2 + var(--led-dot-spacing)) calc(var(--led-dot-size) * 2 + var(--led-dot-spacing));\n  background-repeat: repeat;\n  background-clip: text;\n  -webkit-background-clip: text;\n  color: transparent;\n  position: relative;\n  display: inline-block;\n}\n\n/* 数字变化时的脉冲动画 */\n@keyframes digit-pulse {\n  0%, 100% {\n    opacity: 1;\n    transform: scale(1);\n  }\n  50% {\n    opacity: 0.8;\n    transform: scale(1.05);\n  }\n}\n\n.digit-update {\n  animation: digit-pulse 0.3s ease-in-out;\n}\n\n/* 点阵背景装饰 */\n.led-digit-box::before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-image: \n    radial-gradient(circle, var(--led-off-color) calc(var(--led-dot-size) / 2), transparent calc(var(--led-dot-size) / 2));\n  background-size: 10px 10px;\n  pointer-events: none;\n  z-index: -1;\n}\n\n/* 单位标签 */\n.led-label {\n  margin-top: 10px;\n  font-size: 0.8rem;\n  font-weight: bold;\n  color: var(--led-color);\n  letter-spacing: 2px;\n  text-shadow: 0 0 5px var(--led-glow);\n  opacity: 0.7;\n  font-family: 'Courier New', monospace;\n}\n\n/* 分隔符 */\n.led-separator {\n  font-size: 3rem;\n  font-weight: bold;\n  color: var(--led-color);\n  text-shadow: 0 0 10px var(--led-glow), 0 0 20px var(--led-glow);\n  animation: separator-blink 1s infinite;\n  display: inline-block;\n  background-image: \n    radial-gradient(circle, var(--led-color) var(--led-dot-size), transparent var(--led-dot-size)),\n    radial-gradient(circle, var(--led-color) var(--led-dot-size), transparent var(--led-dot-size));\n  background-size: calc(var(--led-dot-size) * 2 + var(--led-dot-spacing)) calc(var(--led-dot-size) * 2 + var(--led-dot-spacing));\n  background-clip: text;\n  -webkit-background-clip: text;\n  color: transparent;\n}\n\n@keyframes separator-blink {\n  0%, 50% {\n    opacity: 1;\n  }\n  51%, 100% {\n    opacity: 0.5;\n  }\n}\n\n/* 添加扫描线效果模拟旧式显示器 */\n.led-digit-box {\n  position: relative;\n  overflow: hidden;\n}\n\n.led-digit-box::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 4px;\n  background: rgba(255, 255, 255, 0.05);\n  animation: scanline 6s linear infinite;\n  pointer-events: none;\n  z-index: 1;\n}\n\n@keyframes scanline {\n  0% {\n    top: -5%;\n  }\n  100% {\n    top: 105%;\n  }\n}\n\n/* 响应式优化 */\n@media (max-width: 768px) {\n  .text-2xl {\n    font-size: 1.5rem;\n  }\n  \n  .led-digit-box {\n    padding: 8px 6px;\n    min-width: 60px;\n  }\n  \n  .led-digit-box-wide {\n    min-width: 90px;\n  }\n  \n  .led-digit {\n    font-size: 2rem;\n    letter-spacing: 5px;\n    --led-dot-size: 2px;\n    --led-dot-spacing: 1.5px;\n  }\n  \n  .led-separator {\n    font-size: 2rem;\n  }\n  \n  .led-label {\n    font-size: 0.7rem;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}